

<div class="panel">
  <button  class="button" *ngIf="isAdmin" mat-raised-button (click)="toggleUserMode()">Admin</button>
  <button  class="button" *ngIf="isAdmin" mat-raised-button (click)="refreshPlans()"><mat-icon>refresh</mat-icon></button>
  <button class="button" *ngIf="isAdmin && !userMode" mat-raised-button (click)="newFloorPlan()"><mat-icon>add</mat-icon></button>
  <button class="button" *ngIf="isAdmin && !userMode  && floorPlan" mat-raised-button (click)="displayImage = !displayImage"><mat-icon>image</mat-icon></button>
  <button class="button" *ngIf="isAdmin && !userMode && floorPlan" mat-raised-button (click)="deleteFloorPlan()"><mat-icon>delete</mat-icon></button>
  <span *ngIf="(floorPlans$ | async) as floorPlans">
    <span *ngFor="let item of floorPlans">
      <button class="button" mat-raised-button (click)="_getFloorPlan(item)">{{item?.name}}</button>
    </span>
  </span>
  <button class="button" *ngIf="!userMode && isAdmin" mat-raised-button (click)="clearPlan()">Clear</button>
  <button class="button" *ngIf="!userMode && isAdmin" mat-raised-button (click)="outPutJSONFull()">JSON</button>
</div>

<div *ngIf="isAdmin && displayImage && floorPlan">
  <app-widget-uploader
      [(fileNames)]="floorPlan.image"
      (messageOut) ="backgroudImage($event)"
      >
    Images
</app-widget-uploader>
</div>

<div *ngIf="!displayImage">
  <pointless-room-layout-designer
      [toggleButtonHidden] = true
      [isAdmin]        = "isAdmin"
      [_userMode]      = "_userMode"
      [userMode]       = "userMode"
      [_floorPlan]     = "_floorPlan"
      [floorPlan]      = 'floorPlan'
      [_newOrder]      = '_newOrder'
      [_setTableInfo]  = '_setTableInfo'
      [_performOperations]="_performOperations"
      (outPutJSON)     = "outPutJSON($event)"
      (setTable)       = 'setTable($event)'
      (getFloorPlan)   = "getFloorPlan($event)"
      (setOrder)       = "setOrder($event)"
      (saveFloorPlan)  = "saveFloorPlan($event)"
    >
  </pointless-room-layout-designer>
</div>



