<mat-card *ngIf="order">
  <mat-card-title>
    Plan Order
  </mat-card-title>
  <mat-card-subtitle>

    <div *ngIf="errorMessage">
      <mat-icon>alert</mat-icon>  {{errorMessage}}
    </div>

    <div *ngIf="!order.clients_POSOrders">
      To schedule an order, a customer must be associated with it.
      <div class="grid-header-item">
        <app-order-header-demo-graphics
            [canRemoveClient]="'false'"
            [order]          ="order">
        </app-order-header-demo-graphics>
      </div>
    </div>
  </mat-card-subtitle>

  <mat-card-content>
    <mat-tab-group  mat-align-tabs="start"
                    [(selectedIndex)]="selectedIndex"
                    (selectedIndexChange)="selectChange()">

        <mat-tab label="Sale Type"
                class="sale-type-tab">
          <posorder-service-type
            (outPutSelectServiceType)='selectedServiceType($event)'>
            Select Service Type
          </posorder-service-type>
        </mat-tab>

        <mat-tab *ngIf="serviceType && serviceType.deliveryService"
                 label="Delivery Information">
          <div>
            <posorder-shipping-address
                [serviceType]="serviceType"
                [order]="order"
                [inputForm]="inputForm"
                (outPutSaveAddress)= "saveShippingAddress($event)">
            </posorder-shipping-address>
          </div>
        </mat-tab>

        <mat-tab (click)="selectedIndex==2"
                *ngIf   ="serviceType && serviceType.promptScheduleTime"
                 label  ="Schedule Information">
          <app-posorder-schedule-form
              [serviceType]="serviceType"
              [order]="order"
              (OutPutSaveShippingTime)="saveShippingTime($event)">
          </app-posorder-schedule-form>
        </mat-tab>

        <mat-tab (click)="selectedIndex == 3" label="Special Requests">
          <pos-order-notes
            [serviceType]="serviceType"
            [order]="order"
            [inputForm]="inputFormNotes">
          </pos-order-notes>
        </mat-tab>
    </mat-tab-group>

  </mat-card-content>

  <mat-card-actions>
    <div *ngIf="(selectedIndex == 3 || selectedIndex == 2) || (showSaveButton && selectedIndex != 0)">
      <button mat-raised-button
              color="primary"
              (click)="save()">
        <mat-icon aria-label="save">save</mat-icon>Save and Continue
      </button>
    </div>
  </mat-card-actions>
</mat-card>
