<span *ngIf="order">
  <div class="container">
    <div>
      <div class="total-card">
        <h4>
          <span  *ngIf="!isOrderClaimed && order.id" > <mat-icon color="warn">lock</mat-icon>
          </span> Order {{order?.id | truncateRight: 5}} {{order?.serviceType | truncateText: 14}}
          <div *ngIf="order.tableName">{{order.tableName}}</div>
        </h4>
      </div>
      <div class="total-card">
        <div  *ngIf="order.employeeName">{{order?.employeeName}}  </div>
      </div>

      <div  class="total-card">
        Started  {{order.orderDate | date: 'shortDate'}} - {{order?.orderDate | date: 'shortTime'}}
      </div>
      <div *ngIf="order.completionDate" class="total-card">
        Completed  {{order.completionDate | date: 'shortDate'}} - {{order?.completionDate | date: 'shortTime'}}
      </div>
    </div>

    <div>

      <div *ngIf="(isApp) || (!isApp  && isUserStaff) && uiTransactionSettings ">

        <div class="button-row" *ngIf="(!qrOrder && !hideButtonOptions)">

          <div   class="button-margin" *ngIf="!mainPanel">
            <button  class="button" color="primary" mat-raised-button
              (click)="printingService.previewReceipt()"><mat-icon>print</mat-icon>
            </button>
          </div>

          <div   class="button-margin" *ngIf="(locations$ | async) as locations">
            <div *ngIf="locations.length>0">
              <div *ngIf="isSale && isUserStaff && posDevice && posDevice.labelPrinter">
                <button   class="button" color="warn" mat-raised-button
                  (click)="sendOrder()">
                  <mat-icon>local_fire_department</mat-icon>
                </button>
              </div>
            </div>
          </div>

          <div   class="button-margin" *ngIf="isSale && isUserStaff ">
            <button   class="button" color="warn" mat-raised-button
              (click)="printLabels()">
              <mat-icon>book</mat-icon>
            </button>
          </div>

        </div>
      </div>

      <div class="button-row" *ngIf="isUserStaff && isSale">
        <div class="button-margin">
          <split-entry-selector [order]="order"
                                [isUserStaff]="isUserStaff"
                                [uiTransactionSettings]="uiTransactionSettings">
          </split-entry-selector>
        </div>

        <div *ngIf="isApp">
          <button mat-button (click)='refreshOrder()'><mat-icon>refresh</mat-icon></button>
        </div>

        <div >
          <div class="menu-buttons" *ngIf="authenticationService?.userAuths?.priceColumnOption && isSale && isUserStaff" >
            <value-from-list-selector
                [value] ="order.priceColumn"
                (assignValue)="assignPriceColumn($event)">
              Price </value-from-list-selector>
          </div>
        </div>
      </div>

    </div>
  </div>
</span>

<div *ngIf="(action$ | async) as result"></div>
<div *ngIf="(printLabels$  | async) as printLabels"></div>
