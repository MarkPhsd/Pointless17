<!-- windowWidth {{windowWidth}}<br> -->
<!-- Size {{windowSize}} <br> -->
<div  *ngIf="order && mainPanel"
      class="buttons-container">

  <div *ngIf="order && order.history">
    spacer unk
    <h5>Transaction can not be modified.</h5>
  </div>

  <div>
    <button [disabled]="!(isStaff || (order.history || order.balanceRemaining < order.total) && isApp)"
            mat-raised-button
            class="button"
            color="primary"
            (click)="printReceipt()">
      <mat-icon>print</mat-icon>
      <span>
         Receipt
       </span>
    </button>
  </div>

  <div *ngIf="emailOption">
    <button  [disabled]="!(order && order.clients_POSOrders && order.clients_POSOrders.email) "
            mat-raised-button
            class="button"
            color="primary"
            (click)="emailOrder()">
      <mat-icon>email</mat-icon>
      <span >
         Email
       </span>
    </button>
  </div>


  <div *ngIf="ssmsOption && !isUser">
    <button  [disabled]="!(order && order.clients_POSOrders && order.clients_POSOrders.email) "
            mat-raised-button
            class="button"
            color="primary"
            (click)="emailNotifyOrder()">
      <span>
         Notify ready
       </span>
    </button>
  </div>

  <div *ngIf="ssmsOption && !isUser">
    <button  [disabled]="!(order && order.clients_POSOrders && order.clients_POSOrders.phone) "
            mat-raised-button
            class="button"
            color="primary"
            (click)="textNotify()">
      <mat-icon>email</mat-icon>
      <span *ngIf="!smallDevice">
         Text Notify
       </span>
    </button>
  </div>

  <div *ngIf="isApp">
    <button mat-raised-button
            [disabled]="!(isStaff)"
            class="button"
            color="primary"
            (click)="sendToPrep()">
      <mat-icon>done</mat-icon>
       Send
    </button>
  </div>

  <div *ngIf="isApp">
    <!-- spacer 5/ -->
    <ng-container [ngTemplateOutlet]="spacer5"></ng-container>
  </div>

  <div *ngIf="!isUser && (mainPanel && !order.suspendedOrder)">
    <span>
      <button mat-raised-button
              [disabled]="( (order.history && !isAuthorized) && order.clientID == 0)  == true"
              color="warn"
              (click)="suspendOrder()">Suspend</button>
    </span>
  </div>

  <div *ngIf="!isUser && (mainPanel && order.suspendedOrder)">
    <span>
      <button mat-raised-button color="warn"
              [disabled]="( (order.history && !isAuthorized) && order.clientID == 0)  == true"
              (click)="removeSuspension()">Un Suspend</button>
    </span>
  </div>

  <div  *ngIf="!isUser">
    <button mat-raised-button class="button"
            [disabled]="  ((order.history) && (itemsPrinted || paymentsMade)) == true"
            color="primary"
            (click)="voidOrder()">
      <mat-icon>delete</mat-icon>
      <span>
        Void
      </span>
    </button>
  </div>

  <div  *ngIf="!isUser">
    <!-- spcaer 9 -->
    <ng-container [ngTemplateOutlet]="refundOrderButton"></ng-container>
  </div>


  <div  *ngIf="purchasOrderEnabled && userAuthorizationService.isManagement">
    <button mat-raised-button class="button"
            color="primary"
            (click)="makeManifest()">
            <mat-icon>list</mat-icon>
      <span>
        Inventory Manifest
      </span>
    </button>
  </div>

  <div  *ngIf="userAuthorizationService.isManagement">
    <button mat-raised-button class="button"
            color="primary"
            (click)="toggleListView()">
            <mat-icon>list</mat-icon>
      <span>
        List View
      </span>
      <span *ngIf="listView">
        Item View
      </span>
    </button>
  </div>

  <div  *ngIf="isStaff">
    <button mat-raised-button class="button"
            color="primary"
            (click)="changeTransactionType()">
            <mat-icon>refresh</mat-icon>
      <span>
        Change Type
      </span>
    </button>
  </div>

  <div  *ngIf="!isUser">
    <!-- spacer 11 -->
    <ng-container [ngTemplateOutlet]="spacer11"></ng-container>
  </div>

  <div  *ngIf="!(mainPanel && !smallDevice)">
    <button  mat-raised-button
            class="button"
            color="primary"
            (click)="showItems()">
      <mat-icon>list</mat-icon>
      Items
    </button>
  </div>

  <div>
    <!-- spacer 4 -->
    <ng-container [ngTemplateOutlet]="spacer4"></ng-container>
  </div>

  <!-- If the order is completed it's one kind of refund if it's not it's another | right now refunds only happen on new orders, not completed orders -->
  <!-- So this refund option is only enabled if the order is not history -->
  <div>
    <!-- spacer 12 -->
    <ng-container [ngTemplateOutlet]="spacer12"></ng-container>
  </div>

  <div>
    <!-- spacer7 -->
    <ng-container [ngTemplateOutlet]="spacer7"></ng-container>
  </div>

  <div>
    <!-- spacer 6 -->
    <ng-container [ngTemplateOutlet]="spacer6"></ng-container>
  </div>

  <div>
    <!-- spacer 10 -->
    <ng-container [ngTemplateOutlet]="spacer10"></ng-container>
  </div>

  <div>
    <!-- spacer 3 -->
    <ng-container [ngTemplateOutlet]="spacer3"></ng-container>
  </div>

  <div>
    <!-- spacer 2 -->
    <ng-container [ngTemplateOutlet]="spacer2"></ng-container>
  </div>

  <!-- <div *ngIf="windowSize === 'large'">
    spacer 13

  </div>
  <div *ngIf=" windowSize === 'large'">
    spacer 14

  </div>
  <div *ngIf=" windowSize === 'large'">
    spacer 15

  </div> -->

</div>

<!-- <ng-container [ngTemplateOutlet]="cashPaymentButtons"></ng-container> -->

<ng-template #exitButton>
  <button mat-raised-button
          class="button"
          color="warn"
          aria-label="Clear"
          (click)="clearOrder()">
    <mat-icon>exit_to_app</mat-icon>
    <span>
    Exit
    </span>
  </button>
</ng-template>

<ng-template #payButton>
  <button mat-raised-button
      [disabled] = "!((!order.history || !order.completionDate) || isStaff)"
      class="button"
      color="primary"
      aria-label="Check Out"
      (click)="makePayment()">
    <mat-icon>credit_card</mat-icon>
    <span>
    Pay
    </span>
  </button>
</ng-template>

<ng-template #refundOrderButton>
  <button mat-raised-button class="button"
          [disabled]="  ((order.history) && (itemsPrinted || paymentsMade)) == true"
          color="primary"
          (click)="refundOrder()">
    <mat-icon>refresh</mat-icon>
    <span>
      Refund Order
    </span>
  </button>
</ng-template>

<ng-template #cancelButton>
  <button   mat-raised-button class="button"
          color="warn"
          [disabled]="(order.history || order.completionDate) || (order.balanceRemaining > 0 && order.balanceRemaining != 0)"
          aria-label="delete"
          (click)="deleteOrder()">
  <mat-icon>delete</mat-icon>
  <span>
      Cancel
      </span>
    </button>
</ng-template>

<ng-template #refundItem>
  <!-- <button mat-raised-button class="button"
      [disabled]=" !refundItemEnabled || ((order.history) && (itemsPrinted || paymentsMade)) == true"
      color="primary"
      (click)="refundItem()">
      <mat-icon>refresh</mat-icon>
    <span>
    Refund Item
    </span>
  </button> -->
</ng-template>
<ng-template #refundItem>
  <button mat-raised-button class="button"
    color="primary"
    (click)="removeDiscounts()">
    <span>
    Clear Discounts
    </span>
  </button>
</ng-template>

<!-- <ng-template #cashPaymentButtons> -->
  <!-- <cash-payment-button
      [order]="order"
      [uiTransactions]="uiTransactions"
      [platForm]="platForm"
      [creditBalanceRemaining]="creditPaymentAmount"
      [stripeTipValue]="stripeTipValue"
      [paymentAmount]="paymentAmount"
      [isApp]="isApp"
      >
   </cash-payment-button>
</ng-template> -->
