<mat-card>

  <div fxLayout="row"
       fxLayoutAlign="space-around center">
    <div fxLayout="column"
      fxLayoutAlign="start center">

      <div *ngIf="isDiscountItem && !isApp">
        <div *ngIf="menuItem.itemType.name.toLowerCase() == 'Discount % Entire Order' ||
                    menuItem.itemType.name.toLowerCase() == 'Discount % One Item'">
            {{menuItem.itemType.name }} - {{ menuItem.cannabisType }}
        </div>
        <div *ngIf="menuItem.itemType.name.toLowerCase() == 'cash discount on order'.toLowerCase() ||
                    menuItem.itemType.name.toLowerCase() == 'Cash Discount on Item'.toLowerCase()">
            {{menuItem.itemType.name }} - {{menuItem.cannabisType | currency}}
        </div>
      </div>

      <div *ngIf="(isApp && !imageUrl) || !imageUrl"
           class="product-name-only">
        <button mat-raised-button
                class="image-button"
                (click)="menuItemAction(true)">
          {{ menuItem.name  | truncateText: 30  }}
          <mat-icon>{{menuItem?.itemType?.icon}}</mat-icon>
        </button>
      </div>

      <!-- <div *ngIf="!isDiscountItem && !imageUrl" >
        <div class="description-text"  (click)="menuItemAction(true)">
           {{ menuItem.name  }}
        </div>
      </div> -->

      <div *ngIf="!isDiscountItem && imageUrl" >

        <img *ngIf="isApp && !isCategory"
              [src]="imageUrl"
              onerror   = "this.src='../assets/images/placeholderimage.png'"
              class="product-image"
              (click)="menuItemAction(true)"/>

        <img  *ngIf="!isApp && !isCategory"
              [src]="imageUrl"
              onerror   = "this.src='../assets/images/placeholderimage.png'"
              class="product-image"
              (click)="menuItemAction(false)"/>

        <div class="round-container">
          <img  *ngIf="isCategory"
            [src]="imageUrl"
            onerror   = "this.src='../assets/images/placeholderimage.png'"
            class="product-image"
            (click)="menuItemAction(true)"/>
        </div>

      </div>

    </div>
  </div>

  <!-- <div *ngIf="((isApp && imageUrl) || !isApp) || !imageUrl" class="product-name">
    {{ menuItem.name  | truncateText: 30   }}
  </div> -->
  <div *ngIf="!isDiscountItem && imageUrl" >
    {{ menuItem.name  | truncateText: 30   }}
  </div>
  
  <div  class="product-name" *ngIf="!menuItem.itemType" >
    Type Required.
  </div>

  <div>

    <div *ngIf="!isApp" id="advertisement">
    </div>

    <div class="product-name" id="star-rating" *ngIf="!isApp">
      <div  *ngIf="isProduct && menuItem.ratingAverage && menuItem.ratingCount &&
              menuItem.ratingAverage != 0 && menuItem.ratingCount != 0">
        reviews:  {{menuItem.ratingAverage}} rating: {{menuItem.ratingCount}}
      </div>
    </div>

    <div fxFill class="price-grid">
      <div *ngIf="isProduct && !isCategory"
           id="price">
          {{menuItem.retail | currency}}
      </div>

      <div *ngIf="menuItem.itemType">
          <button
                *ngIf="isApp"
                mat-mini-fab
                class="add-button"
                color="warn"
                (click)="menuItemAction(false)" >
            <mat-icon>open_in_new</mat-icon>
          </button>
          <button
              *ngIf="!isApp && !isCategory"
              mat-mini-fab
              class="add-button"
              color="warn"
              (click)="menuItemAction(true)" >
            <div *ngIf="!isProduct">
              <mat-icon>open_in_new</mat-icon>
              View
            </div>
            <div *ngIf="isProduct">
              <mat-icon>plus_one</mat-icon>
            </div>
          </button>
      </div>
    </div>

  </div>
</mat-card>
