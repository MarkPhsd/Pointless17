<mat-toolbar [color]="matToolbarColor">
  <mat-toolbar-row class="menu-grid">
    <div>
      <a class="nav-link nav-icon" (click)="toggleMenu()">
        <mat-icon>menu</mat-icon>
      </a>
    </div>
    <div>
      <button mat-raised-button >
        <a (click)="modal = !modal" clrDropdownItem>Preferences</a>
      </button>
    </div>
  </mat-toolbar-row>
</mat-toolbar>

<mat-drawer-container >
  <mat-drawer
      position  ="start"
      [mode]    ="'side'"
      [opened]  ="toggle"
      [class]   ="'mat-orderBar-wide'" >

    <mat-card>
      <mat-card-subtitle>
        <section class="nav-group collapsible">
          <label for="tabexample1">Drag Widget Items</label>
        </section>
      </mat-card-subtitle>
      <mat-card-content>
        <ul class="nav-list">
          <li>
             <a draggable="true" class="nav-link"
                (dragstart)="onDrag($event, 'graph')">
              <mat-icon>drag_indicator</mat-icon>
              Default
            </a>
          </li>
          <li *ngFor="let widget of widgetCollection">
            <a draggable="true" class="nav-link"
               (dragstart)="onDrag($event, widget.identifier)">
              <mat-icon>drag_indicator</mat-icon>
              {{ widget.name }}
            </a>
          </li>
        </ul>
      </mat-card-content>
    </mat-card>

    <mat-card>
      <mat-card-content>
        <div class="header-items">
          <button mat-button
                  (click)="addGrid()">
            <mat-icon>add_box</mat-icon>Add Dashboard</button>
        </div>

        <div *ngIf="layoutService.dashboardModel" class="header-items">
          <button mat-button
                  (click)="editGrid()">
            <mat-icon>edit</mat-icon>Edit Current </button>
        </div>

        <div *ngIf="layoutService.stateChanged">
          <button mat-button color="accent" (click)="saveChanges()"><mat-icon>save</mat-icon>Save Required</button>
        </div>

        <div class="header-items">
          <button mat-button
                  (click)="layoutService.forceRefresh(layoutService?.dashboardModel?.id)">
            <mat-icon>refresh</mat-icon>Refresh</button>
        </div>

        <div class="header-items">
          <button mat-button
                  (click)="reset()">
            <mat-icon>restart_alt</mat-icon>Reset</button>
        </div>
      </mat-card-content>
    </mat-card>

  </mat-drawer>

  <mat-drawer-content *ngIf="dashboardCollection">

    <div *ngIf="inputForm" class="grid-items">
      <mat-button-toggle-group
                name="type"
                aria-label="item Type"
                formControlName="type">
        <mat-button-toggle
                class="discount-type-button"
                [value]="item.id"
                (click)="listMenu(item.id)"
                *ngFor="let item of dashboardCollection" >
            {{item.name}}
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>

    <router-outlet #outlet="outlet"></router-outlet>

  </mat-drawer-content>

</mat-drawer-container>

