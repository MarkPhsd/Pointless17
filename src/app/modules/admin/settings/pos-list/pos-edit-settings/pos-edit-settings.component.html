<mat-card >

  <mat-card-title>
    <div class="header-container">
      <div><mat-icon>computer</mat-icon>
        <div *ngIf='!terminal  && inputForm'>
          New Terminal.
        </div>
        <div>
          <span *ngIf='terminal'>
            {{terminal.name}}
          </span>
        </div>
      </div>
      <div class="edit-buttons" >
        <app-edit-buttons-standard
        (outputeupdateItem)     ="saveSetting($event)"
        (outputupdateItemExit)  ="updateExit($event)"
        (outputupdatedeleteItem)="delete($event)"
        (outputupdateonCancel)  ="onCancel($event)"
        ></app-edit-buttons-standard>
      </div>
    </div>
  </mat-card-title>

  <mat-card-subtitle>

    <div *ngIf="inputForm && inputForm.controls?.name.invalid && (inputForm.controls?.name.dirty || inputForm.controls?.name.touched)">

      <!-- {{inputForm.controls?.name.errors | json}} -->
      <div *ngIf="inputForm && inputForm.controls?.name.errors?.['required']">
        <mat-icon color="warn">warning</mat-icon>  Name is required.
      </div>
      <div *ngIf="inputForm && inputForm.controls?.name.errors?.['maxlength']">
        <mat-icon color="warn">warning</mat-icon>   Name must be 5 or less characters long.
      </div>

    </div>
    <button mat-button (click)="createZPLFolderData()">craete folder</button>
  </mat-card-subtitle>

  <mat-card-content>
    <div *ngIf="inputForm && terminal" [formGroup]="inputForm" >
      <div class='grid-container'>

        <div>
          <mat-form-field appearance="standard">
            <mat-label >Name assinged in Pointless</mat-label>
            <mat-label >Name </mat-label>
            <input matInput type="text"
                    formControlName="name"
                    class="form-control" >
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="standard">
            <mat-label >Physical Device Name</mat-label>
            <input matInput type="text"
                    formControlName="deviceName"
                    class="form-control" >
          </mat-form-field>
        </div>

        <div class="filterItem"
            *ngIf="medOrRecStoreList"  >
          <mat-form-field appearance="outline">
            <mat-label>Device Sales Type</mat-label>
            <mat-select
                        type             ="number"
                        formControlName  ="medicalRecSales"
                        name             ="medicalRecSales"
              >
              <mat-option value= "">Clear</mat-option>
              <mat-option *ngFor="let item of medOrRecStoreList"
                          [value]="item.id">
                {{item.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="toggle-fields">
          <mat-slide-toggle
                    formControlName="enabled">
            <mat-label>Enabled</mat-label>
          </mat-slide-toggle>
        </div>

        <div class="toggle-fields">
          <mat-slide-toggle
                    formControlName="enableScale">
            <mat-label>Enable Scale</mat-label>
          </mat-slide-toggle>
        </div>

        <div class="toggle-fields">
          <mat-slide-toggle
                    formControlName="enableExitLabel">
            <mat-label>Enable Exit Label</mat-label>
          </mat-slide-toggle>
        </div>

        <div class="toggle-fields">
          <mat-slide-toggle
                    formControlName="resetOrdersFilter">
            <mat-label>Reset Orders Filter Each Login</mat-label>
          </mat-slide-toggle>
        </div>

      </div>

      <mat-divider></mat-divider>
      <h2><mat-icon>printer</mat-icon>Optional Printer Settings</h2><br>
      <mat-label>Installed Windows App Only</mat-label><br>
      <mat-label>These settings will overide default assignments. You might want to have the same printer names assigned on each pos to setup things easier.</mat-label>
      <div class='grid-container'>

        <div>
          <mat-form-field appearance="standard">
            <mat-label >Receipt Printer Name</mat-label>
            <input matInput type="text"
                    formControlName="receiptPrinter"
                    class="form-control" >
          </mat-form-field>
        </div>



        <div>
          <mat-form-field appearance="standard">
            <mat-label >Label Printer</mat-label>
            <input matInput type="text"
                    formControlName="labelPrinter"
                    class="form-control" >
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="standard">
            <mat-label >Label Printer 2</mat-label>
            <input matInput type="text"
                    formControlName="labelPrinter2"
                    class="form-control" >
          </mat-form-field>
        </div>
       </div>

      <h2><mat-icon>credit_card</mat-icon>Payment Processing Settings</h2>
      <div class='grid-container'>
        <div>
          <mat-form-field appearance="standard">
            <mat-label>Netepay Secure Device</mat-label>
            <input matInput type="text"
                    formControlName="dSISecureDevice"
                    class="form-control" >
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="standard">
            <mat-label >Cardpointe HSN</mat-label>
            <input matInput type="text"
                    formControlName="cardPointeHSN"
                    class="form-control" >
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="standard">
            <mat-label>TriPOSLaneID</mat-label>
            <input matInput type="text"
                    formControlName="triposLaneID"
                    class="form-control" >
          </mat-form-field>
        </div>

      </div>

      <ng-template #androidPrintingTemplate>
        <ng-container [ngTemplateOutlet]="isAndroidPrintingTemplate"></ng-container>
        <mat-label *ngIf="terminal && terminal.btPrinter">{{terminal.btPrinter}}</mat-label>
        <mat-form-field appearance="outline">
          <mat-label>Bluetooth Devices</mat-label>
            <mat-select
                      type="text"
                      formControlName = "btPrinter"
                    >
            <div *ngIf="(btPrinters$ | async) as list">
                <mat-option *ngFor="let item of list"
                            [value]="item.address">
                {{ item.name }}
              </mat-option>
            </div>
          </mat-select>
        </mat-form-field>
      </ng-template>

      <div *ngIf="blueToothDeviceList && blueToothDeviceList.length>0">
        <h3><mat-icon>android</mat-icon>Android Secure Device</h3>
         <mat-label>This feature must be set from the device itself.</mat-label>
         <div>
           <mat-form-field   appearance="outline" >
             <mat-label>Bluetooth Device Name</mat-label>
             <mat-select  formControlName="bluetoothDeviceName" >
               <div *ngFor="let item of blueToothDeviceList">
                 <mat-option  [value]="item">
                   {{item}}
                 </mat-option>
               </div>
             </mat-select>
           </mat-form-field>
         </div>
      </div>

      <h2><mat-icon>grid_view</mat-icon>Inteface Settings </h2>
      <div>
        <mat-label>Installed Windows App Only</mat-label><br>
        <electron-zoom-control (valueEmit)="setZoomValue($event)" [zoomValue]="terminal.electronZoom"></electron-zoom-control>
      </div>

    </div>

  </mat-card-content>
</mat-card>

<!-- <mat-card>
  <mat-card-subtitle>
    Device Info
  </mat-card-subtitle>
  <mat-card-content>
      {{this.deviceService.getDeviceInfo() | json}}
  </mat-card-content>
</mat-card> -->

      <!-- <mat-label>Select if logged directly into the computer.</mat-label>
      <app-list-printers-electron
              [printerName]      ="receiptPrinter"
              [printerList]      ="electronPrinterList"
              (outputPrinterName)="setElectronPrinterName($event)" >
              Receipt Printer
      </app-list-printers-electron> -->
