<div *ngIf="priceSchedule && !saveNotification; else loading">
  <div class="container"
      *ngIf="priceSchedule; loading">
    <div class="schedule-info">
      <mat-card>
        <div class="header-grid">
          <div>
            {{priceSchedule.name}}
          </div>
          <div>
            <span>
              <button mat-button
                      (click)="save()">
                <mat-icon>save</mat-icon>Save
              </button>
            </span>
            <span>
              <button mat-button color="accent"
                      (click)="delete()">
                <mat-icon>delete</mat-icon>Delete
              </button>
            </span>
          </div>
        </div>
      </mat-card>
          <div *ngIf="inputForm">
            <div [formGroup]="inputForm">
              <mat-tab-group>
                  <div class="tab-group-grid">
                    <div>
                        <mat-tab label="Name & Type">
                        <mat-card>
                          <app-discount-options
                              [inputForm]="inputForm">
                          </app-discount-options>
                        </mat-card>
                      </mat-tab>
                    </div>

                    <div>
                        <mat-tab label="Constraints">
                          <app-price-schedule-constraints
                          [inputForm]="inputForm"
                          [item]="priceSchedule">
                        </app-price-schedule-constraints>
                      </mat-tab>
                    </div>

                    <div>
                      <mat-tab label="Category & Items">
                        <app-type-filter
                          [inputForm]="inputForm"
                          [item]     ="priceSchedule">
                        </app-type-filter>
                      </mat-tab>
                    </div>

                    <div *ngIf="isMenuList">
                      <mat-tab label="Selected Menu Items">
                        <app-reward-type-filter
                          [inputForm]="inputForm"
                          [item]     ="priceSchedule">
                        </app-reward-type-filter>
                      </mat-tab>
                    </div>

                    <div *ngIf="!isMenuList">
                      <mat-tab label="Offers and Rewards">
                        <app-reward-type-filter
                          [inputForm]="inputForm"
                          [item]     ="priceSchedule">
                        </app-reward-type-filter>
                      </mat-tab>
                    </div>

                    <div>
                      <mat-tab label="Description">
                          <div class="grid-item">
                            <mat-card >
                              <app-widget-uploader
                                    [(fileNames)]="priceSchedule.image"
                                    (messageOut) ="saveImageToSchedule($event)">
                                    Uses one image.
                                </app-widget-uploader>
                            </mat-card>
                          </div>
                      </mat-tab>
                    </div>

                </div>
              </mat-tab-group>
              <div  [formGroup]="inputForm"
                    *ngIf="inputForm">
                <mat-label> Description </mat-label><br>
                <simple-tinymce name="description"
                                cols="50" rows="15"
                                style="height: 400px;"
                                formControlName="description"
                                [(ngModel)]="description"
                                >
                </simple-tinymce>
              </div>

            <div>
          </div>
        </div>
      </div>
    </div>

    <div class="floating-info" >
      <div *ngIf="inputForm">
        <app-price-schedule-info
                [inputForm]="inputForm"
                [hideDelete]="false">
        </app-price-schedule-info>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <h3>processing....</h3>
  <mat-spinner></mat-spinner>
</ng-template>

