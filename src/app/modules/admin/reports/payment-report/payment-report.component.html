<div *ngIf="(sales$ | async) as sales; else loading">
  <app-payment-report-data
      [sales]="sales"
      [site]="site"
      [dateTo]="dateTo"
      [dateFrom]="dateFrom"
      [notifier]="notifier"
      [groupBy]="groupBy"
      [zrunID]="zrunID"
    >{{groupBy}}</app-payment-report-data>
</div>

<div *ngIf="groupBy === 'paymentMethod'">
  <div *ngIf="(refunds$ | async) as sales; else loadingRefunds">
    <app-payment-report-data
        [sales]="sales"
        [site]="site"
        [dateTo]="dateTo"
        [dateFrom]="dateFrom"
        [notifier]="notifier"
        [groupBy]="groupBy"
        [zrunID]="zrunID"
      >Refunds </app-payment-report-data>
  </div>
</div>

<ng-template #loading>
  <div *ngIf="groupBy === 'paymentMethod'">
    ...loading payments
  </div>

  <mat-spinner [diameter]="25" class="spinner"></mat-spinner>
</ng-template>

<ng-template #loadingRefunds>
  <div *ngIf="groupBy === 'paymentMethod'">
    ..loading refunds
  </div>
  <mat-spinner [diameter]="25" class="spinner"></mat-spinner>
</ng-template>

