<mat-card>

  <div fxLayout="column"
      fx-flex
      fx-layout-align="space-between"
      class="form-controls">

    <div  [formGroup]="searchForm"
          id="searchForm"
          (ngSubmit)="searchLabels()">
        <div class="grid-container">
          <div class="grid-item">
            <mat-form-field appearance="outline">
              <mat-label >Search</mat-label>
              <input
                    #input
                    matInput
                    type="text"
                    id="searchProducts"
                    formControlName="searchProducts"
                    [(ngModel)]="searchProducts"
                    class="form-control"
                    [matAutocomplete]="auto">
                    <mat-autocomplete panelWidth="auto"
                                      #auto="matAutocomplete"
                                      [displayWith]="displayFn.bind(this)">
              </mat-autocomplete>
            </mat-form-field>
          </div>

          <div class="grid-item">
            <app-mat-select
                (outputItem)="getMetrcCategory($event)"
                [list$]     ="metrcCategory$"
                [fieldName] ="'metrcCategory'"
                [inputForm] ="searchForm"
                >
            </app-mat-select>
          </div>

          <div class="grid-item">
            <app-mat-select
                (outputItem)="getAssignedSiteSelection($event)"
                [list$]     ="sites$"
                [fieldName] ="'selectedSiteID'"
                [inputForm] ="searchForm"
                >
            </app-mat-select>
          </div>

          <div class="grid-item">
            <button mat-button
                    mat-raised-button
                    color="primary"
                    (click)="searchItems()">Active</button>
          </div>

          <div class="grid-item">
            <button mat-button mat-raised-button
                    color="primary"
                    (click)="searchItems()">Imported
            </button>
          </div>

      </div>
    </div>
  </div>

</mat-card>

<mat-card *ngIf="mETRCPackagesGet$"
          class="agrid-container">

  <ag-grid-angular
    #agGrid
    id              ="myGrid"
    style           ="width: 100%; height: 80vh;"
    [class]         ="agtheme"
    [columnDefs]    ="columnDefs"
    [defaultColDef] ="defaultColDef"
    [rowData]       ="mETRCPackagesGet$ | async"
    [frameworkComponents]="frameworkComponents"
    (gridReady)="onGridReady($event)">
  </ag-grid-angular>

</mat-card>
