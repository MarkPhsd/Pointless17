
<div fxLayout="row" class="row-class">

  <div fxLayout="column" class="row-class"
       *ngIf="!displayCategories">

    <ul id="accordion"
        class="accordion">
      <li class="menu-item" @fade *ngFor="let menu of menus; let i = index"
          [class.active]="menu.active">
          <!-- *ngIf="isUserAuthorized(menu.userType)" -->
        <div *ngIf="isAuthorized(menu)" >
            <div class="menu"
              (click)="toggle(menu, i)">
              <mat-icon>{{ menu.icon }}</mat-icon>
              {{ menu.name }}
          </div>
        </div>
      </li>
    </ul>

  </div>

  <div fxLayout="column" class="row-class"
       *ngIf="displayCategories">

    <div class=" accordion  menu-header">
      <mat-icon>{{menus[index].icon}}</mat-icon>
      {{ menus[index].name }}
      <mat-divider></mat-divider>
      <div class="menu-header-footer"></div>
    </div>

    <ul id="accordion"
        class="accordion">
      <li class="menu-item" @fade  *ngFor="let item of submenu" >
        <!-- -->
        <div class="menu" *ngIf="isAuthorized(item)" >
          <a mat-list-item
              routerLinkActive={{item.routerLinkActive}}
              routerLink=      {{item.routerLink}}>
              <div class="grid-toggle-tiny">
                <div class="item-font" *ngIf="item?.icon">
                  <!-- <span [class]="'mdi ' + item.icon"></span> -->
                  <mat-icon>{{  item.name }}</mat-icon>
                </div>
                <div class="item-text" *ngIf="!tinyMenu">
                  {{item.name | truncateText : 20}}
                </div>
              </div>
          </a>
        </div>
      </li>
      <li>
        <div class="menu">
          <a  mat-list-item
                  (click)="resetMenu()">
            <mat-icon>navigate_before</mat-icon>
            Back
          </a>
        </div>
      </li>
    </ul>
  </div>
</div>


<mat-menu #menu="matMenu"  @fade  *ngFor="let item of submenu" >
  <div  *ngIf="isAuthorized(item)" >
    <button mat-menu-item >
      <div class="grid-toggle-tiny">
        <div class="item-font" *ngIf="item?.icon">
          <!-- <span [class]="'mdi ' + item.icon"></span> -->
          <mat-icon>{{  item.name }}</mat-icon>
        </div>
        <div class="item-text" *ngIf="!tinyMenu">
          {{item.name | truncateText : 20}}
        </div>
      </div>
    </button>
  </div>
</mat-menu>
