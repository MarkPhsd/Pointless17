<mat-sidenav-container>

  <div class="grid-container">
    <div *ngIf="!smallDevice && !tinyDepartmentFilter"
         [formGroup]="searchForm"
        class="grid-item form-width" >
        <mat-form-field appearance="outline" class="form-fields">
          <mat-label><mat-icon>search</mat-icon>Search / Scan </mat-label>
          <input
                class="input-value"
                #input
                matInput
                appAutoFocusInput
                type           ="text"
                id             ="name"
                [(ngModel)]    ="itemNameInput"
                formControlName="itemName">
            <button *ngIf="itemNameInput" matSuffix
                  mat-icon-button aria-label="Clear"
                  (click)="itemNameInput=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
    </div>

    <div *ngIf="!smallDevice && !tinyDepartmentFilter" class="search-buttons">
      <div *ngIf="keyboardDisplayOn">
        <button mat-button
                (click)="toggleKeyboard()">
                <mat-icon>keyboard</mat-icon></button>
      </div>
      <div>
        <button mat-button
                (click)="clearAll()">
                Reset<mat-icon>reset</mat-icon></button>
      </div>
      <div>
        <button  mat-button
                (click)="multifilter = !multifilter">
          <span [class]="'mdi mdi-filter'"></span>
        </button>
      </div>
    </div>

    <div *ngIf="tinyDepartmentFilter" class="search-buttons">

    </div>

    <div *ngIf="multifilter">
      <mat-accordion multi>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Categories
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon>category</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

            <div  class="grid-item-departments"
                  *ngIf="(categories$ | async) as list">
              <app-mat-toggle-selector
                  [showIcon]       ="'true'"
                  [textLength]     = "21"
                  [toggleDimensions]="'toggle-group-tall'"
                  [toggleHeight]   ="'toggle-buttons-height-size-tall'"
                  (outPutItem)     = "refreshCategorySearch($event)"
                  [textLength]     = "21"
                  [list]           = "list">
              </app-mat-toggle-selector>
            </div>
        </mat-expansion-panel>

        <mat-expansion-panel >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Brands
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon>branding_watermark</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div  class="grid-item"
                *ngIf="(clientSearchResults$ | async) as list">
            <div *ngIf=" list.results as brands">
              <mat-button-toggle-group
                                      name="type"
                                      aria-label="Font Style"
                                      vertical
                  >
                <mat-button-toggle class="toggle-buttons"
                                    [value]="0">
                  Any Brand
                </mat-button-toggle>
                <mat-button-toggle
                                    class="toggle-buttons"
                                    type="button"
                                    [value]="item"
                                    (change)     = "refreshBrandSearch(item)"
                                    *ngFor="let item of brands" >
                  {{item.company | truncateText : 21}}
                </mat-button-toggle>
              </mat-button-toggle-group>
            </div>
          </div>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Types
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon>table_view</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div  class="grid-item"
              *ngIf="(productTypes$ | async) as list">

            <app-mat-toggle-selector
                [showIcon]       ="'true'"
                [textLength]     = "21"
                [toggleDimensions]="'toggle-group-tall'"
                [toggleHeight]   ="'toggle-buttons-height-size-tall'"
                (setItem)        = "refreshTypeSearch($event)"
                [textLength]     = "21"
                [list]           = "list">
            </app-mat-toggle-selector>

          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>

    <div class="grid-item-departments"
         *ngIf="!multifilter">
      <div  *ngIf="(departments$ | async) as list">
        <app-mat-toggle-selector
            cdk-overlay-origin
            #trigger="cdkOverlayOrigin"
            (outPutItem)     = "refreshDepartmentSearch($event)"
            [mouseOver]      = "'true'"
            [showIcon]       ="'true'"
            [textLength]     = "21"
            [toggleDimensions]="'toggle-group-tall'"
            [toggleHeight]   ="'toggle-buttons-height-size-tall'"
            [list]           = "list">
        </app-mat-toggle-selector>
      </div>
    </div>
  </div>

  <button cdk-overlay-origin
          #trigger="cdkOverlayOrigin"
          (click)="isMenuOpen = !isMenuOpen">Open Overlay</button>

  <ng-template
    cdk-connected-overlay
    [origin]="trigger"
    hasBackdrop
    [open]="isMenuOpen"
    (backdropClick)="isMenuOpen=false">
    <app-department-menu></app-department-menu>
  </ng-template>

</mat-sidenav-container>




<!-- <ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isDepartmentOpen"
>
  <ul class="example-list">
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
  </ul>
</ng-template> -->


