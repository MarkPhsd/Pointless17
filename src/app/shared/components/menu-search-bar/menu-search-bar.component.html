<mat-sidenav-container>
  <div class="grid-container c1">

    <div  class="form-width"
          *ngIf="searchForm && !smallDevice && !tinyDepartmentFilter && (uiHomePage && !uiHomePage.staffHideSearchBar && isUser) || 
                                                                        (uiHomePage && !uiHomePage.hideSearchBar && isStaff)">
      <search-debounce-input
            [(itemNameInput)] = "itemNameInput"
            [itemNameControl] = "'itemName'"
            [searchForm]      = "searchForm"
            (outPutMethod)    = "refreshSearchPhrase($event)">
        <div fieldDescription>
            <mat-icon>search</mat-icon>
            Search
        </div>
      </search-debounce-input>
    </div>

    <ng-container [ngTemplateOutlet]="isDisplaySubMenuOn"></ng-container>

    <ng-template #displaySubMenu>
      <!-- <div *ngIf="!hideMenu"> -->
        <price-schedule-menu-list></price-schedule-menu-list>
      <!-- </div> -->
      <!-- <button mat-button (click)="hideMenu = !hideMenu">
        <div *ngIf="hideMenu">Show Menu</div>
        <div *ngIf="!hideMenu">Hide Menu</div>
      </button> -->
    </ng-template>

    <ng-container [ngTemplateOutlet]="isDisplayMenuOn"></ng-container>

    <ng-template #displayMenu>
      <!-- <display-menu-menu></display-menu-menu> -->
    </ng-template>

    <div  *ngIf="!isApp && (!smallDevice && !tinyDepartmentFilter)"
          class="search-buttons">
      <div *ngIf="keyboardDisplayOn">
        <button mat-button
                (click)="toggleKeyboard()">
                <mat-icon>keyboard</mat-icon></button>
      </div>
      <div *ngIf="multifilter">
        <button mat-button
                (click)="clearAll()">
          <span *ngIf="!smallDevice">
          </span>
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
      <div>
        <button  mat-button
                (click)="multifilter = !multifilter">
          <span [class]="'mdi mdi-filter'"></span>
        </button>
      </div>
    </div>
    <div *ngIf="isApp"
         class="search-buttons">
      <div>
        <button mat-button
                (click)="clearAll()">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
      <div >
        <button  mat-button
                (click)="multifilter = !multifilter">
          <span *ngIf="!smallDevice">
            Filter
          </span>
          <span [class]="'mdi mdi-filter'"></span>
        </button>
      </div>
    </div>

    <div *ngIf="( uiHomePage && ( uiHomePage.sideToolbarEnableCategory) )">
      <mat-accordion multi>
        <mat-expansion-panel
             [expanded]="accordionStep == 0"
             (opened)="setStep(0)"
             hideToggle
              *ngIf="uiHomePage && (uiHomePage.sideToolbarEnableCategory)">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Categories
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon>category</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

            <div  class="mat-toggle-list"  >
              <app-mat-toggle-selector
                  *ngIf             = "(categories$ | async) as list"
                  [mouseOver]       = "false"
                  [showIcon]        = "true"
                  [toggleDimensions]= "toggleCatHeight"
                  [styleHeight]     ="'55hvh'"
                  [textLength]      = "21"
                  (outPutItem)      = "refreshCategorySearch($event)"
                  [textLength]      = "21"
                  [list]            = "list"
                  [materialIcons]   = 'true'
                  >
              </app-mat-toggle-selector>
            </div>
        </mat-expansion-panel>

        <mat-expansion-panel
            [expanded]="accordionStep == 1"
            (opened)="setStep(1)"
            hideToggle
            *ngIf="uiHomePage && uiHomePage.sideToolbarEnableBrand">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Brands
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon>branding_watermark</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div  class="mat-toggle-list" >
            <app-mat-toggle-selector
                *ngIf="(clientSearchResults$ | async) as listbrands"
                [mouseOver]      = "false"
                [showIcon]       ="showIcon"
                [textLength]     = "21"
                [toggleDimensions]="toggleCatHeight"
                (setItem)        = "refreshTypeSearch($event)"
                [textLength]     = "21"
                [fieldName]      = "'company'"
                [list]           = "listbrands.results">
            </app-mat-toggle-selector>
          </div>

        </mat-expansion-panel>

        <mat-expansion-panel
                [expanded]="accordionStep == 2"
                (opened)="setStep(2)"
                hideToggle
                *ngIf="uiHomePage && uiHomePage.sideToolbarEnableType">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Types
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon>table_view</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div  class="mat-toggle-list">
            <app-mat-toggle-selector
                  *ngIf             = "(productTypes$ | async) as list"
                  [mouseOver]       = "false"
                  [showIcon]        = "showIcon"
                  [textLength]      = "21"
                  [toggleDimensions]= "'toggle-buttons-height-medium'"
                  [styleHeight]     ="'55hvh'"
                  (outPutItem)      = "refreshCategorySearch($event)"
                  [textLength]      = "21"
                  [id]              = "productTypeID"
                  [list]            = "list">
              </app-mat-toggle-selector>
            </div>

        </mat-expansion-panel>
      </mat-accordion>
    </div>

   <div class="grid-item-departments"
         *ngIf="(uiHomePage && uiHomePage.sideToolbarDefaultBrand)">
      <ng-container>
        <app-mat-toggle-selector
            *ngIf            = "(departments$ | async) as list"
            (outPutItem)     = "refreshDepartmentSearch($event)"
            [mouseOver]      = "true"
            [showIcon]       = "'true'"
            [textLength]     = "21"
            [toggleDimensions] ="'toggle-group-100'"
            [toggleHeight]   = "'toggle-buttons-height-size-tall'"
            [list]           = "list"
            [hideAllOption]  = 'true'
          >
        </app-mat-toggle-selector>
      </ng-container>
    </div>
  </div>
</mat-sidenav-container>



