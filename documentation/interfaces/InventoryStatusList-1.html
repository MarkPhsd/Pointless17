<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pointless documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">pointless documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">













<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  InventoryStatusList</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/modules/admin/inventory/inventory-list/inventory-list/inventory-list.component.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#id" 
>
                                            id
                                        </a>
                                </li>
                                <li>
                                        <a href="#name" 
>
                                            name
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="id"></a>
                                        <span class="name "><b>id</b>
                                            <a href="#id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="name"></a>
                                        <span class="name "><b>name</b>
                                            <a href="#name">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>name:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, ElementRef, EventEmitter, OnInit, ViewChild, Output, HostListener, OnDestroy, Input } from &#x27;@angular/core&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { Observable, of, Subject, Subscription, switchMap  } from &#x27;rxjs&#x27;;
import { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup } from &#x27;@angular/forms&#x27;;
import { SitesService } from &#x27;src/app/_services/reporting/sites.service&#x27;;
import { InventoryAssignmentService, IInventoryAssignment, InventoryFilter, InventorySearchResultsPaged } from &#x27;src/app/_services/inventory/inventory-assignment.service&#x27;;
import { ClientSearchModel, ISite, IUserProfile, OperationWithAction } from &#x27;src/app/_interfaces&#x27;;
import { MetrcItemsCategoriesService } from &#x27;src/app/_services/metrc/metrc-items-categories.service&#x27;;
import { InventoryLocationsService } from &#x27;src/app/_services/inventory/inventory-locations.service&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { IInventoryLocation } from &#x27;src/app/_services/inventory/inventory-locations.service&#x27;;
import { IGetRowsParams,  GridApi,  } from &#x27;@ag-grid-community/all-modules&#x27;;
import { ButtonRendererComponent } from &#x27;src/app/_components/btn-renderer.component&#x27;;

import {
  METRCItemsCategories,
} from &#x27;src/app/_interfaces/metrcs/items&#x27;;

import { InventoryEditButtonService } from &#x27;src/app/_services/inventory/inventory-edit-button.service&#x27;;
import { Capacitor,  } from &#x27;@capacitor/core&#x27;;
import { IMenuItem } from &#x27;src/app/_interfaces/menu/menu-products&#x27;;
import { AWSBucketService, ContactsService, IItemBasicB, MenuService } from &#x27;src/app/_services&#x27;;
import { ItemTypeService } from &#x27;src/app/_services/menu/item-type.service&#x27;;
import { AgGridFormatingService } from &#x27;src/app/_components/_aggrid/ag-grid-formating.service&#x27;;
import { InventoryManifest, ManifestInventoryService } from &#x27;src/app/_services/inventory/manifest-inventory.service&#x27;;
import { AgIconFormatterComponent } from &#x27;src/app/_components/_aggrid/ag-icon-formatter/ag-icon-formatter.component&#x27;;
import { AdjustPaymentComponent } from &#x27;src/app/modules/posorders/adjust/adjust-payment/adjust-payment.component&#x27;;
import { UserAuthorizationService } from &#x27;src/app/_services/system/user-authorization.service&#x27;;
import { AdjustmentReasonsComponent } from &#x27;src/app/shared/widgets/adjustment-reasons/adjustment-reasons.component&#x27;;
import { NewInventoryItemComponent } from &#x27;../../new-inventory-item/new-inventory-item.component&#x27;;
export interface InventoryStatusList {
  name: string;
  id:   number;
}

@Component({
  selector: &#x27;app-inventory-list&#x27;,
  templateUrl: &#x27;./inventory-list.component.html&#x27;,
  styleUrls: [&#x27;./inventory-list.component.scss&#x27;]
})

export class InventoryListComponent implements OnInit, OnDestroy {

  @Input()  listOnly &#x3D; false;
  @Input()  manifestID  : number;
  @Input()  siteID : ISite;

  resultMessage: string;
  inventorLocationID: number;
  InventorySearchResultsPaged: InventorySearchResultsPaged;
  inventoryAssignment        : IInventoryAssignment;
  inventoryAssignmentHistory : IInventoryAssignment[];
  @ViewChild(&#x27;input&#x27;, {static: true}) input: ElementRef;
  @Output() itemSelect  &#x3D; new EventEmitter();

  id:                   any;
  item:                 string;
  search:               string;
  searchPhrase:         Subject&lt;any&gt; &#x3D; new Subject();
  public searchForm: UntypedFormGroup;
  inventoryAssignment$             : Subject&lt;IInventoryAssignment[]&gt; &#x3D; new Subject();
  action$ : Observable&lt;any&gt;;

  currentManifest: InventoryManifest;

  get itemName() {
    if (!this.searchForm) { this.initForm()}
    if (this.searchForm) {
      return this.searchForm.get(&quot;itemName&quot;) as UntypedFormControl;
    }
  }

  get platForm()         {  return Capacitor.getPlatform(); }
  get PaginationPageSize(): number {return this.pageSize;  }
  get gridAPI(): GridApi {  return this.gridApi;  }

  //AgGrid
  params               : any;
  private gridApi      : GridApi;
  // private gridColumnApi: GridAlignColumnsDirective;
  gridOptions          : any
  columnDefs           &#x3D; [];
  defaultColDef        ;
  frameworkComponents  : any;
  rowSelection         : any;
  rowDataClicked1      &#x3D; {};
  rowDataClicked2      &#x3D; {};
  rowData:             any[];
  pageSize                &#x3D; 20
  pageNumber          : number;
  currentRow              &#x3D; 1;
  currentPage             &#x3D; 1
  numberOfPages           &#x3D; 1
  startRow                &#x3D; 0;
  endRow                  &#x3D; 0;
  recordCount             &#x3D; 0;
  isfirstpage             : boolean;
  islastpage              : boolean;
  // pageSize              : number;
  //This is for the filter Section//
  brands           : IUserProfile[];
  categories$      : Observable&lt;IMenuItem[]&gt;;
  departments$     : Observable&lt;IMenuItem[]&gt;;
  productTypes$    : Observable&lt;IItemBasicB[]&gt;;
  viewOptions$     &#x3D; of(
    [
      {name: &#x27;Active&#x27;, id: 0},
      {name: &#x27;All&#x27;, id: 1},
      {name: &#x27;Inactive&#x27;, id: 2}
    ]
  )

  manifestAssignedList     &#x3D;
    [
      {name: &#x27;Any&#x27;,         id: 0},
      {name: &#x27;Assigned&#x27;  ,  id: 1},
      {name: &#x27;Un Assigned&#x27;, id: 2},
    ]


  //search form filters
  inputForm        : UntypedFormGroup;
  categoryID       : number;
  productTypeSearch: number;
  productTypeID    : number;
  typeID           : number;
  brandID          : number;
  active           : boolean;
  viewAll           &#x3D; 1;

  selected        : any[];
  selectedRows    : any;
  agtheme         &#x3D;  &#x27;ag-theme-alpine&#x27;;
  // &#x27;ag-theme-material&#x27;;
  gridDimensions
  urlPath:        string;
  value           : any;

  smallDevice    : boolean;
  @Input() gridlist       &#x3D; &quot;grid-list&quot;
  sites$:               Observable&lt;ISite[]&gt;;
  site:                 ISite;
  selectedSiteID:       number;

  metrcCategory$:       Observable&lt;METRCItemsCategories[]&gt;;
  metrcCategory:        METRCItemsCategories;
  metrcCategories      :METRCItemsCategories[];
  metrcCategoryID:      number;

  locations$:           Observable&lt;IInventoryLocation[]&gt;;
  locations         :   IInventoryLocation[];
  inventoryLocation:    IInventoryLocation;
  inventoryLocationID:  number;

  inventoryFilter:      InventoryFilter;
  inventoryStatus:      InventoryStatusList
  inventoryStatusID:    number
  inventoryStatusList  &#x3D; this.inventoryAssignmentService.inventoryStatusList;

  manifestAssigned: number;

  isAuthorized: boolean;
  //This is for the search Section//
  _currentManifest: Subscription;

  get searchProductsValue() { return this.searchForm.get(&quot;searchProducts&quot;) as UntypedFormControl;}
  get selectedSiteValue()   { return this.searchForm.get(&quot;selectedSiteID&quot;) as UntypedFormControl;}
  private readonly onDestroy &#x3D; new Subject&lt;void&gt;();

  initSubscriptions() {
    this._currentManifest &#x3D; this.manifestService.currentInventoryManifest$.subscribe(data &#x3D;&gt; {
      if (data ) {
        this.currentManifest &#x3D; data;
        this.manifestID &#x3D; data.id
      }
      if (!data ) {
        this.currentManifest &#x3D; null;
      }
    })
  }

  constructor(  private _snackBar: MatSnackBar,
                private manifestService : ManifestInventoryService,
                private inventoryAssignmentService: InventoryAssignmentService,
                private fb: UntypedFormBuilder,
                private siteService: SitesService,
                private metrcCategoriesService: MetrcItemsCategoriesService,
                private locationService        : InventoryLocationsService,
                private inventoryEditButon     : InventoryEditButtonService,
                private menuService            : MenuService,
                private itemTypeService        : ItemTypeService,
                private contactsService        : ContactsService,
                private awsService             : AWSBucketService,
                private agGridFormatingService : AgGridFormatingService,
                private userAuthorization      : UserAuthorizationService,
                private dialog                 : MatDialog,
              )
  {
    this.initForm()
  }

  async ngOnInit() {

    this.isAuthorized &#x3D; this.userAuthorization.isUserAuthorized(&#x27;admin, manager&#x27;)
    this.initSubscriptions();
    this.initClasses();
    this.sites$         &#x3D; this.siteService.getSites();
   this.locations$ &#x3D; this.locationService.getLocations().pipe(switchMap(data &#x3D;&gt; {
      this.locations &#x3D; data;
      return of(data)
    }))

    const clientSearchModel       &#x3D; {} as ClientSearchModel;
    clientSearchModel.pageNumber  &#x3D; 1
    clientSearchModel.pageSize    &#x3D; 1000;

    this.urlPath        &#x3D; await this.awsService.awsBucketURL();
    const site          &#x3D; this.siteService.getAssignedSite()
    this.rowSelection   &#x3D; &#x27;multiple&#x27;
    this.categories$    &#x3D; this.menuService.getListOfCategories(site)
    this.departments$   &#x3D; this.menuService.getListOfDepartments(site)
    this.productTypes$  &#x3D; this.itemTypeService.getBasicTypes(site)

    const brandResults$       &#x3D; this.contactsService.getBrands(site, clientSearchModel)
    brandResults$.subscribe(data &#x3D;&gt; {
      this.brands &#x3D; data.results
    })

    this.metrcCategory$ &#x3D; this.metrcCategoriesService.getCategories()
    this.metrcCategory$.subscribe(
        {next: data &#x3D;&gt; {
          this.metrcCategories &#x3D; data;
          this.initAgGrid();
        },
        error: err &#x3D;&gt; {
          console.log(&#x27;err&#x27;, err)
          this.initAgGrid();
        }
      }
    )
    if (!this.search) { this.search &#x3D; &#x27;&#x27;}



  };

  setRefreshAgGrid(value: number) {
    this.columnDefs &#x3D; this.initAgGrid();
  }

  agColumnApiRefresh() {
    if (this.columnDefs) {
      this.agGridFormatingService.initGridOptionsFormated(this.pageSize, this.columnDefs)
    }
  }

  ngOnDestroy(): void {
    //Called once, before the instance is destroyed.
    //Add &#x27;implements OnDestroy&#x27; to the class.
    // if (this.currentManifest$) {
    //   this.currentManifest$.unsubscribe()
    // }
    if (this._currentManifest) {this._currentManifest.unsubscribe()}
    const i &#x3D; 0;
  }

  openAdjustmentDialog() {
    const dialogConfig &#x3D; [
      { data: { id: 4 } }
    ]
    const dialogRef &#x3D; this.dialog.open(AdjustmentReasonsComponent,
      { width:  &#x27;600px&#x27;,
        height: &#x27;800px&#x27;,
        data : {id: 4}
      },
    )
    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {

    });
  }

  initClasses()  {
    const platForm      &#x3D; this.platForm;
    this.gridDimensions &#x3D; &#x27;width: 100%; height: 100%;&#x27;
    this.agtheme        &#x3D; &#x27;ag-theme-material&#x27;;
    if (this.smallDevice) {
      this.gridDimensions &#x3D; &#x27;width: 100%; height: 70%;&#x27;
    }
  }

  @HostListener(&quot;window:resize&quot;, [])
    updateDeviceSize() {
    this.smallDevice &#x3D; false
    if (window.innerWidth &lt; 768) {
      this.smallDevice &#x3D; true
    }
    this.initClasses();
  }

  initForm() {
    this.searchForm &#x3D; this.fb.group( {
      itemName      :     [&#x27;&#x27;],
      searchProducts:     [&#x27;&#x27;],
      selectedSiteID:     [&#x27;&#x27;],
      inventoryLocations: [&#x27;&#x27;],
      inventoryStatusID:  [&#x27;&#x27;],
      manifestAssigned  : [&#x27;&#x27;],
      metrcCategory     : [&#x27;&#x27;],
    })
  }

  refreshSearchOut(event) {
    // console.log(&#x27;resfresh&#x27;)
    this.refreshSearch();
  }

  initAgGrid() {
    this.frameworkComponents &#x3D; {
      btnCellRenderer: ButtonRendererComponent,
      iconCell: AgIconFormatterComponent
    };

    // this.gridOptions.push(rowClassRules)
    this.defaultColDef &#x3D; {
      flex: 2,
      // minWidth: 100,
    };

    let item &#x3D; {headerName: &#x27;id&#x27;,  sortable: true, field: &#x27;id&#x27;,  hide: true, } as any;
    this.columnDefs.push(item)

    item &#x3D;     {
      field: &quot;selected&quot;,
      minWidth: 50,
      maxWidth: 50,
      checkboxSelection: true
    }
    this.columnDefs.push(item)

    item &#x3D;     {
      field: &#x27;id&#x27;,
      cellRenderer: &quot;btnCellRenderer&quot;,
                    cellRendererParams: {
                      onClick: this.editItemFromGrid.bind(this),
                      getIconFunction: this.getLabel.bind(this),
                      btnClass: &#x27;btn btn-primary btn-sm&#x27;
                    },
                    minWidth: 75,
                    maxWidth: 75,
                    flex: 2,
    }
    if (this.listOnly) {
      this.columnDefs.push(item)
    }

    //notAvalibleForSale
    item &#x3D; {headerName: &#x27;notAvalibleForSale&#x27;,  sortable: true, field: &#x27;notAvalibleForSale&#x27;,  hide: true, } as any;
    this.columnDefs.push(item)
    item &#x3D; {headerName: &#x27;active&#x27;,  sortable: true, field: &#x27;active&#x27;,  hide: true, } as any;
    this.columnDefs.push(item)

    item &#x3D;  {headerName: &#x27;Name&#x27;,  sortable: true, field: &#x27;productName&#x27;,
                width   : 175,
                minWidth: 175,
                maxWidth: 275,
                flex    : 2,} as any;
    this.columnDefs.push(item)

    item &#x3D;  {headerName: &#x27;Sku&#x27;, field: &#x27;sku&#x27;, sortable: true,
              width   : 175,
              minWidth: 175,
              maxWidth: 275,
              flex    : 1,
              } as any;
    this.columnDefs.push(item)

    item &#x3D;  {headerName: &#x27;Location&#x27;, field: &#x27;location&#x27;, sortable: true,
              width   : 175,
              minWidth: 175,
              maxWidth: 275,
              flex    : 1,
              }
    this.columnDefs.push(item)

    if (this.metrcCategories.length&gt;0) {
      item &#x3D;  {headerName: &#x27;Category&#x27;, field: &#x27;productCategoryName&#x27;, sortable: true,
                width   : 175,
                minWidth: 175,
                maxWidth: 275,
                flex    : 1,
              }
      this.columnDefs.push(item)
    }

    item &#x3D;  {headerName: &#x27;Count&#x27;, field: &#x27;packageCountRemaining&#x27;, sortable: true,
              width   : 175,
              minWidth: 175,
              maxWidth: 275,
              flex    : 1,
               }
    this.columnDefs.push(item)

    item &#x3D; {headerName: &#x27;PKG Type&#x27;, field: &#x27;unitConvertedtoName&#x27;, sortable: true,
              width   : 150,
              minWidth: 150,
              maxWidth: 275,
              flex    : 1,
               }
    this.columnDefs.push(item)

    item &#x3D;  {headerName: &#x27;Retail&#x27;, field: &#x27;price&#x27;, sortable: true,
                            cellRenderer: this.currencyCellRendererUSD,
                            width   : 150,
                            minWidth: 150,
                            maxWidth: 275,
                            flex    : 1,
              }
    this.columnDefs.push(item)

    item &#x3D;  {headerName: &#x27;Cost&#x27;, field: &#x27;cost&#x27;, sortable: true,
                            cellRenderer: this.currencyCellRendererUSD,
                            width   : 150,
                            minWidth: 150,
                            maxWidth: 275,
                            flex    : 1,
              }
    this.columnDefs.push(item)

    item &#x3D;     {
      field: &#x27;manifestID&#x27;,
      cellRenderer: &quot;btnCellRenderer&quot;,
                    cellRendererParams: {
                      onClick: this.editManifest.bind(this),
                      getIconFunction: this.getManifestIcon.bind(this),
                      btnClass: &#x27;btn btn-primary btn-sm&#x27;
                    },
                    minWidth: 125,
                    maxWidth: 125,
                    flex: 2,
    }
    if (!this.listOnly) {
      this.columnDefs.push(item)
    }

    item &#x3D;  {headerName: &#x27;Rejected&#x27;, field: &#x27;rejected&#x27;, sortable: true,
                            width   : 150,
                            minWidth: 150,
                            maxWidth: 275,
                            flex    : 1, }
    if (this.listOnly) {
      this.columnDefs.push(item)
    }

    const columnDefs &#x3D; this.columnDefs
    this.rowSelection &#x3D; &#x27;multiple&#x27;;
    this.gridOptions &#x3D; this.agGridFormatingService.initGridOptions(this.pageSize, this.columnDefs);
    return columnDefs
  }

  editManifest(e) {

    if (!e) {return}
    if (e.rowData.id)  {
      this.manifestService.openManifestForm(e.rowData.manifestID);
    }
  }

  listAll(){
    const control &#x3D; this.itemName
    if (control) {
      control.setValue(&#x27;&#x27;)
    }
    if (!this.listOnly) {
      this.manifestID &#x3D; 0;
    }
    this.categoryID        &#x3D; 0;
    this.productTypeSearch &#x3D; 0;
    this.brandID           &#x3D; 0
    this.currentPage       &#x3D; 1;
    this.inventoryStatusID &#x3D; 0;
    this.metrcCategory &#x3D; null;
    this.refreshSearch()
  }

  initSearchModel(): InventoryFilter {
    let searchModel             &#x3D; {} as InventoryFilter;
    searchModel.productName     &#x3D; this.search
    searchModel.label           &#x3D; this.search
    searchModel.sku             &#x3D; this.search
    searchModel.inventoryStatus &#x3D; this.inventoryStatusID

    if (this.listOnly &amp;&amp; this.currentManifest) {
      searchModel.manifestID      &#x3D; this.currentManifest.id
    }

    if (this.manifestAssigned) {
      searchModel.manifestAssigned &#x3D; this.manifestAssigned;
    }

    //if location
    if (this.itemName &amp;&amp; this.searchForm) {
      if (this.itemName.value)  { searchModel.productName   &#x3D; this.itemName.value  }
    }

    if (this.inventoryLocation) {searchModel.location &#x3D; this.inventoryLocation.name }
    if (this.metrcCategory)     {searchModel.productCategoryName &#x3D; this.metrcCategory.name}
    searchModel.pageSize    &#x3D; this.pageSize
    searchModel.pageNumber &#x3D; this.currentPage;

    this.id &#x3D; 0
    return searchModel
  }

  refreshSearchPhrase(event) {
    if (this.itemName) {
      const item &#x3D; { itemName: event }
      this.searchForm.patchValue(item)
      this.search &#x3D; event;
      this.currentPage &#x3D; 1;
      this.refreshSearch();
    }
  }

  refreshCategoryChange(event) {
    this.categoryID &#x3D; event;
    this.currentPage &#x3D; 1;
    this.refreshSearch();
  }

  refreshProductTypeChange(event) {
    this.productTypeSearch &#x3D; event;
    this.currentPage &#x3D; 1;
    this.refreshSearch();
  }

  refreshActiveChange(event) {
    this.viewAll &#x3D; event;
    this.currentPage &#x3D; 1;
    this.refreshSearch();
  }

  setBrandID(event) {
    if (event &amp;&amp; event.id) {
      this.brandID &#x3D; event.id
      this.currentPage &#x3D; 1;
      this.refreshSearch();
    }
  }

  refreshSearch() {
    const site               &#x3D; this.siteService.getAssignedSite()
    const productSearchModel &#x3D; this.initSearchModel();
    this.onGridReady(this.params)
  }

  refreshGrid() {
    this.onGridReady(this.params)
  }

  //this doesn&#x27;t change the page, but updates the properties for getting data from the server.
  setCurrentPage(startRow: number, endRow: number): number {
    const tempStartRow &#x3D; this.startRow
    this.startRow      &#x3D; startRow
    this.endRow        &#x3D; endRow;
    if (tempStartRow &gt; startRow) { return this.currentPage - 1 }
    if (tempStartRow &lt; startRow) { return this.currentPage + 1 }
    return this.currentPage
  }

  addInventoryItem() {
    try {
      const result &#x3D;   this.inventoryEditButon.addInventoryDialog(0)
      if (result) {
        result.afterClosed().subscribe(data &#x3D;&gt; {
          if (data &amp;&amp; data.sku) {
            this.search &#x3D; data.sku;
            this.initSearchModel()
          }
          this.refreshSearch();
        })
      }
    } catch (error) {
      console.log(error)
    }
  }

  getAssignedSiteSelection(event) {
    if (event.value) {
      this.selectedSiteID &#x3D; event.value
      this.assignSite(this.selectedSiteID);
    }
  }

  assignSite(id: number){
    this.siteService.getSite(id).subscribe( data &#x3D;&gt; {
      this.site &#x3D; data
      this.siteService.setAssignedSite(data);
      this.siteService.updateSiteSubscriber(data);
      this.refreshSearch();
      this.manifestService.updateCurrentInventoryManifest(null)
    })
  }

  getAssignedSite(): ISite {
    if (this.site) {
      return this.site
      this.manifestService.updateSelectedManifestSite(this.site)
    } else {
      this.manifestService.updateSelectedManifestSite( this.siteService.getAssignedSite())
      return  this.siteService.getAssignedSite()
    }
  }

  getMetrcCategory(event) {
    this.metrcCategoryID &#x3D; event.value
    if (this.metrcCategoryID &#x3D;&#x3D; 0) {
      this.metrcCategory &#x3D; null
      this.refreshSearch();
      return
    }
    if (event.value) {
      this.metrcCategoryID &#x3D; event.value
      this.assignMetrcCategory(this.metrcCategoryID);
    }
  }

  assignMetrcCategory(id: number) {
    this.metrcCategoriesService.getCategory(id).subscribe( data &#x3D;&gt; {
      this.metrcCategory &#x3D; data

    })
  }

  getLocation(event) {
    this.inventoryLocationID &#x3D; event.value
    if (this.inventoryLocationID &#x3D;&#x3D; 0) {
      this.inventoryLocation &#x3D; null
      this.refreshSearch();
      return
    }
    if (event.value) {
      this.assignLocation(this.inventoryLocationID);
    }
  }

  assignLocation(id: number){
    this.locations.filter(data &#x3D;&gt; {
      if (data.id &#x3D;&#x3D; id) {
        this.inventoryLocation &#x3D; data
        this.refreshSearch();
      }
    })
    // this.locationService.getLocation(id).subscribe( data &#x3D;&gt; {
    //   this.inventoryLocation &#x3D; data
    // })
  }

  getInventoryStatus(event) {
    if (event.value) {
      this.assignInventoryStatus(event.value);
      this.refreshSearch();
    } else {
      this.inventoryStatus.id &#x3D; 0
    }
  }

  getManifestStatus(event) {
    if (event.value) {
      this.manifestAssigned &#x3D; event.value;
      this.refreshSearch();
    } else {
      this.manifestAssigned &#x3D; 0;
      this.refreshSearch();
    }
  }

  assignInventoryStatus(name: string): InventoryStatusList {
    return  this.inventoryStatus &#x3D; this.inventoryStatusList.find(data &#x3D;&gt;
      {
        if ( data.name &#x3D;&#x3D;&#x3D; name ) {
          this.inventoryStatus &#x3D; data;
          this.inventoryStatusID  &#x3D; this.inventoryStatus.id
          return
        }
      }
    )
  }

  //ag-grid standard method
  getRowData(params, startRow: number, endRow: number):  Observable&lt;InventorySearchResultsPaged&gt;  {
    this.currentPage          &#x3D; this.setCurrentPage(startRow, endRow)
    const searchModel         &#x3D; this.initSearchModel();
    let  site                &#x3D; this.siteService.getAssignedSite()
    if (this.site) { site &#x3D; this.site}
    return this.inventoryAssignmentService.getInventory(site, searchModel)
  }

  //ag-grid standard method
  async onGridReady(params: any) {
    if (params)  {
      this.params  &#x3D; params
      this.gridApi &#x3D; params.api;
      // this.gridColumnApi &#x3D; params.columnApi;
      params.api.sizeColumnsToFit();
    }

    if (params &#x3D;&#x3D; undefined) { return }

    let datasource &#x3D;  {
      getRows: (params: IGetRowsParams) &#x3D;&gt; {
      const items$ &#x3D;  this.getRowData(params, params.startRow, params.endRow)

      items$.subscribe(data &#x3D;&gt;
        {
          if (data.errorMessage) {
            this.notifyEvent(data.errorMessage, &#x27;Failure&#x27;)
            return
          }
            const resp         &#x3D;  data.paging
            this.isfirstpage   &#x3D; resp.isFirstPage
            this.islastpage    &#x3D; resp.isFirstPage
            this.currentPage   &#x3D; resp.currentPage
            this.numberOfPages &#x3D; resp.pageCount
            this.recordCount   &#x3D; resp.recordCount
            if (this.numberOfPages !&#x3D;0 &amp;&amp; this.numberOfPages) {
              this.value &#x3D; ((this.currentPage / this.numberOfPages ) * 100).toFixed(0)
            }

            if (this.currentManifest) {
              this.currentManifest.inventoryAssignments &#x3D; data.results;
            }
            params.successCallback(data.results)
          }
        );
      }
    };

    if (!datasource)   { return }
    if (!this.gridApi) { return }
    this.gridApi.setDatasource(datasource);

    // this.setRefreshAgGrid(2000)
  }


    //mutli select method for selection change.
  onSelectionChanged(event) {
    let selectedRows       &#x3D; this.gridApi.getSelectedRows();
    let selectedRowsString &#x3D; &#x27;&#x27;;
    let maxToShow          &#x3D; this.pageSize;
    let selected           &#x3D; []

    if (selectedRows.length &#x3D;&#x3D; 0) { return }
    selectedRows.forEach(function (selectedRow, index) {
    if (index &gt;&#x3D; maxToShow) { return; }
    if (index &gt; 0) {  selectedRowsString +&#x3D; &#x27;, &#x27;;  }
      // console.log(&#x27;selected Row&#x27;, selectedRow)
      selected.push(selectedRow)
      selectedRowsString +&#x3D; selectedRow.name;
    });

    if (selectedRows.length &gt; maxToShow) {
    let othersCount &#x3D; selectedRows.length - maxToShow;
    selectedRowsString +&#x3D;
      &#x27; and &#x27; + othersCount + &#x27; other&#x27; + (othersCount !&#x3D;&#x3D; 1 ? &#x27;s&#x27; : &#x27;&#x27;);
    }

    this.selected &#x3D; selected
    this.manifestService.updateInventoryItems(this.gridApi.getSelectedRows())
    this.id &#x3D; selectedRows[0].id;
    this.getInventoryHistory(this.id)
  }

  async getInventoryHistory(id: any) {
    const site &#x3D; this.siteService.getAssignedSite();
    this.id &#x3D; id;
    if (id) {
      this.inventoryAssignmentService.getInventoryAssignment(site, id ).subscribe(data &#x3D;&gt;{
        this.inventoryAssignment &#x3D; data;
      })
      const history$ &#x3D; this.inventoryAssignmentService.getInventoryAssignmentHistory(site, id)
      history$.subscribe(data&#x3D;&gt;{
        this.inventoryAssignmentHistory &#x3D; data;
      })
    }
  }

  getLabel(rowData)
  {
    // if(rowData &amp;&amp; rowData.hasIndicator) {
      return &#x27;edit&#x27;;
    // }
    return &#x27;&#x27;;
  }

  getManifestIcon(rowData) {
    if ( rowData &amp;&amp; rowData.manifestID !&#x3D; 0 ) {
      return &#x27;warehouse&#x27;
    }
    return &#x27;&#x27;
  }

  getIcon(rowData)
  {
    if(rowData &amp;&amp; rowData.hasIndicator) {
      return &#x27;warehouse&#x27;;
    }
    return &#x27;&#x27;;
  }

  onBtnClick1(e) {
    this.rowDataClicked1 &#x3D; e.rowData;
  }

  onBtnClick2(e) {
    this.rowDataClicked2 &#x3D; e.rowData;
  }

  editItemFromGrid(e) {
    if (e.rowData.id)  {
      this.editItemWithId(e.rowData.id);
    }
  }

  editItemWithId(id: any) {
    this.openInventoryDialog(id);
  }

  ///move to inventoryAssignemtnService
  openInventoryDialog(id: number) {
    const dialogRef &#x3D; this.dialog.open(NewInventoryItemComponent,
      { width:        &#x27;800px&#x27;,
        minWidth:     &#x27;800px&#x27;,
        height:       &#x27;750px&#x27;,
        minHeight:    &#x27;750px&#x27;,
        data : {id: id}
      },
    )

    if (dialogRef) {
    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result &amp;&amp; result !&#x3D; &#x27;false&#x27;) {
        // this.outputRefresh.emit(&#x27;true&#x27;)
        this.id &#x3D; 0;
        this.inventoryAssignment &#x3D; null;
      }
      });
    }
  }

  onDeselectAll() {
  }

  onExportToCsv() {
    this.gridApi.exportDataAsCsv();
  }

  onSortByNameAndPrice(sort: string) {
  }

  displayFn(search) {
    // this.searchPaging &#x3D; true
    this.selectItem(search)
    this.item &#x3D; search
    this.search &#x3D; search
    return search;
  }

  selectItem(search){
    if (search) {
      this.searchPhrase.next(search)
    }
  }

  get isDistributor(): boolean {
    const site &#x3D; this.siteService.getAssignedSite();
    if (this.currentManifest) {
      if (this.currentManifest.originatorID &#x3D;&#x3D; undefined || this.currentManifest.sourceSiteID &#x3D;&#x3D; site.id) {
        return true;
      }
    }
    return false;
  }

  get isSiteSatellite(): boolean {
    const site &#x3D; this.siteService.getAssignedSite();
    if (this.currentManifest) {
      if (this.currentManifest.originatorID !&#x3D; undefined || this.currentManifest.originatorID !&#x3D; 0) {
        return true;
      }
    }
    return false;
  }

  validateSiteSelectedForManifest(): boolean {
    if (this.selectedSiteID &#x3D;&#x3D; 0 || this.selectedSiteID &#x3D;&#x3D; undefined)  {
      this.notifyEvent(&#x27;Please selecte a site.&#x27;, &#x27;Alert&#x27;)
      return false
    }
    return true
  }

  validateItemsSelectedForManifest(): boolean {
    const items &#x3D; this.gridAPI.getSelectedRows();
    let result &#x3D; true
    items.forEach( inv &#x3D;&gt; {
      const item &#x3D; inv  as IInventoryAssignment;
      if (item) {
        // console.log(item?.manifestID, item.manifestID)
        if (item.manifestID !&#x3D; null &amp;&amp; item.manifestID !&#x3D; 0) {
          this.notifyEvent(&#x27;You have selected items already assigned to a manifest. Please reselect items.&#x27;, &#x27;Alert&#x27;)
          result &#x3D; false
        }
      }
    })
    return result;
  }

  validateRevoval() {
    const result &#x3D; window.confirm(&quot;Are you sure you want to remove these from the manifest?&quot;)
    const site &#x3D; this.siteService.getAssignedSite();
    if (!result) { return false }
    if (this.isAuthorized) { return true }
    if (this.currentManifest) {
        if (this.isSiteSatellite) { return false }
        if (this.currentManifest.acceptedDate) { return false }
        if (this.isDistributor)   {
          return false
        }
    }
    return true;
  }

  addItemsToManifest() {
    if (!this.validateItemsSelectedForManifest()) { return }
    const items &#x3D; this.gridAPI.getSelectedRows();

    if (!this.currentManifest) {
      this.notifyEvent(&#x27;No current manifest exists.&#x27;, &#x27;Alert&#x27;)
      return
    }

    const manifest &#x3D; {} as InventoryManifest
    if (!manifest.inventoryAssignments) { manifest.inventoryAssignments &#x3D; [] as IInventoryAssignment[]}
    try {
      manifest.inventoryAssignments &#x3D; [ ...items, ... manifest.inventoryAssignments]
    } catch (error) {
      console.log(&#x27;error&#x27;, error)
    }

    this.manifestService.inventoryItems$.subscribe(data &#x3D;&gt; {
      const items  &#x3D; data;
      manifest.inventoryAssignments &#x3D; items;
      const site &#x3D; this.siteService.getAssignedSite()
      if (site) {
          manifest.sourceSiteID &#x3D; site.id;
          manifest.sourceSiteName &#x3D; site.name;
          manifest.sourceSiteURL &#x3D; site.url;
          this.manifestService.add(site, manifest).subscribe(data &#x3D;&gt; {
            this.manifestService.updateSelectedManifestSite(site)
            this.openManifestEditor(data)
          }
        )
      }
    })
  }

  rejectFromManifest(){
    let selectedRows &#x3D; this.gridApi.getSelectedRows();
    const selected   &#x3D; selectedRows as IInventoryAssignment[]
    this.rejectManifest(selected);
  }

  rejectAllFromManifest() {
    if (!this.currentManifest) {
      this.notifyEvent(&#x27;No Current Manifest&#x27;, &#x27;Alert&#x27;)
      return }
    this.rejectManifest(this.currentManifest.inventoryAssignments)
  }

  setAcceptedSelected() {
    if (!this.currentManifest) { return  }
    let  selectedRows &#x3D; this.gridApi.getSelectedRows();
    let  selected     &#x3D; selectedRows as IInventoryAssignment[];
    this.acceptItemsFromManifest(selected);
  }

  setAcceptedAll() {
    if (!this.currentManifest) { return }
    this.acceptItemsFromManifest(this.currentManifest.inventoryAssignments)
  }

  //reject manifest
  //takes list of items, prompts for rejection note
  //applies rejection note to items selected
  //sets items to not be sold (disabled)
  //sets items not to be active.
  //to determine the difference between the source site notification and the detination it it uses the originatorID (source)
  //

  validateRejection(source, originatorID, selected): boolean {
    if (!source || !source.url) {
      this.notifyEvent(&#x27;No Source&#x27;, &#x27;Failed&#x27;)
      return false
    }
    if (!originatorID || originatorID &#x3D;&#x3D; null) {
      this.notifyEvent(&#x27;No Originator&#x27;, &#x27;Failed&#x27;)
      return false
    }
    if (!selected) {
      this.notifyEvent(&#x27;No selected&#x27;, &#x27;Failed&#x27;)
      return false
    }
    return true;
  }

  rejectManifest(selected: IInventoryAssignment[]) {
    const result &#x3D; this.validateRevoval()
    if (!this.currentManifest) {
      this.notifyEvent(&#x27;No Current Manifest&#x27;, &#x27;Alert&#x27;)
      return }
    if (!result)        { return false }
    if (!this.listOnly) { return }

    let destination &#x3D; {} as ISite;
    destination.url &#x3D; this.currentManifest.destinationURL;

    let source &#x3D; {} as ISite;
    source.url &#x3D; this.currentManifest.sourceSiteURL;

    const data &#x3D; this.openRejection(this.currentManifest)
      let originatorID &#x3D; this.currentManifest.originatorID;

      if (originatorID &#x3D;&#x3D; 0 || originatorID &#x3D;&#x3D; null || !originatorID) {
        originatorID   &#x3D; this.currentManifest.id;
      }

      // const dest$         &#x3D; this.inventoryAssignmentService.putInventoryAssignmentList(destinationSite, this.currentManifest.id,  selected);
      data.afterClosed().subscribe(
        message &#x3D;&gt; {
          const items &#x3D; this.assignRejectionMessage(message.toString(), selected);
          this.currentManifest.inventoryAssignments  &#x3D; items;

          if (!this.validateRejection) { return }

          const assignMent$ &#x3D;    this.inventoryAssignmentService.postInventoryAssignmentList(source, originatorID, items);
          assignMent$.pipe(
            switchMap(data &#x3D;&gt; {
              if (originatorID !&#x3D; this.currentManifest.id) {
                return  this.inventoryAssignmentService.postInventoryAssignmentList(destination, this.currentManifest.id, items)
              }
              return of(&#x27;success&#x27;)
            })).subscribe(
              {next: data &#x3D;&gt; {
                this.notifyEvent(&#x27;Items Rejected&#x27;, &#x27;Completed&#x27;)
                this.refreshGrid();
              },
              error: error &#x3D;&gt; {
                this.notifyEvent(&#x60;Error ${error}&#x60;, &#x27;Error Occured&#x27;)
              }
          });
        })

  }


  assignRejectionMessage(message: string, selected:IInventoryAssignment[]): IInventoryAssignment[] {
    const allItems &#x3D;  this.getItemsFromManifest(selected)

    if (allItems){
      allItems.forEach( data &#x3D;&gt; {
        data.rejected &#x3D; message;
      })
    }

    return allItems
  }

  getItemsFromManifest(selected: IInventoryAssignment[]) {
    const allItems &#x3D;  this.currentManifest.inventoryAssignments;
    let newList &#x3D; [] as  IInventoryAssignment[];
    selected.forEach( data &#x3D;&gt; {
      allItems.find( item &#x3D;&gt; {
          if ( item.id &#x3D;&#x3D; data.id ) {
            newList.push(item)
          }
        })
      }
    );
    return newList
  }

  acceptItemsFromManifest(selected: IInventoryAssignment[]) {
    // const result &#x3D; this.validateRevoval()
    if (!this.currentManifest) {
      this.notifyEvent(&#x27;No Current Manifest&#x27;, &#x27;Alert&#x27;)
      return
    }

    let destination &#x3D; {} as ISite;
    destination.url &#x3D; this.currentManifest.destinationURL;

    let source &#x3D; {} as ISite;
    source.url &#x3D; this.currentManifest.sourceSiteURL;

    let originatorID &#x3D; this.currentManifest.id;

    selected  &#x3D; this.getItemsFromManifest(selected);

    selected.forEach(data &#x3D;&gt; {
      if (!data.rejected) {
        data.notAvalibleForSale &#x3D; false;
        data.requiresAttention &#x3D; false;
      }
    })

    const assignMent$ &#x3D;    this.inventoryAssignmentService.postInventoryAssignmentList(destination, originatorID, selected);
      assignMent$.subscribe(
          {next: data &#x3D;&gt; {
            this.selected &#x3D; data;
            this.notifyEvent(&#x27;Items Accepted&#x27;, &#x27;Completed&#x27;)
            this.refreshGrid();
          },
          error: error &#x3D;&gt; {
            this.notifyEvent(&#x60;Error ${error}&#x60;, &#x27;Error Occured&#x27;)
          }
      });

  }

  setLocation(selection) {
    //locations.filter
    const site &#x3D; this.siteService.getAssignedSite();
    if (this.locations){
      // console.log(&#x27;selection&#x27;, selection.value);
      // console.log(&#x27;selection&#x27;, this.selected);
      const item &#x3D; this.locations.filter( data &#x3D;&gt; { return data.id &#x3D;&#x3D;&#x3D; selection?.value } )
      this.selected.forEach(data &#x3D;&gt; {
        data.location &#x3D; item[0].name;
        data.locationID &#x3D; item[0].id;
      })
      this.action$ &#x3D; this.inventoryAssignmentService.postUpdateInventoryLocations(site, this.manifestID, this.selected).pipe(switchMap(
          data &#x3D;&gt; {
            this.selected &#x3D; data;
            this.refreshSearch()
            return of(data)
          }
        )
      )
    }
  }

  openRejection(manifest: InventoryManifest ) {
    let dialogRef: any;
    // const site &#x3D; this.siteService.getAssignedSite();
    // this.menuService.getProduct(site, id).subscribe( data&#x3D;&gt; {
    //   const productTypeID &#x3D; data.prodModifierType
    //   this.openProductEditor(id, productTypeID)
      const site &#x3D; this.siteService.getAssignedSite();
      if (manifest) {
        let action      &#x3D; {}  as OperationWithAction;
        action.action   &#x3D; 4;
        action.manifest  &#x3D; manifest;
        action.id        &#x3D; manifest.id
        // console.log(&#x27;adjust payment component&#x27;)
        dialogRef &#x3D; this.dialog.open(AdjustPaymentComponent,
          { width:        &#x27;450px&#x27;,
            minWidth:     &#x27;450px&#x27;,
            height:       &#x27;400px&#x27;,
            minHeight:    &#x27;400px&#x27;,
            data     : action
        })
        return dialogRef
      }

  }

  removeSelectedFromManifest() {

    const result &#x3D; this.validateRevoval()
    if (!result)       { return false }
    if (!this.listOnly){ return }

    const site &#x3D; this.siteService.getAssignedSite()
    let selectedRows &#x3D; this.gridApi.getSelectedRows();
    const selected   &#x3D; selectedRows as IInventoryAssignment[];
    site.url &#x3D; this.currentManifest.sourceSiteURL;

    const item$ &#x3D;  this.inventoryAssignmentService.assignItemsToManifest(site, 0, selected)
    item$.pipe(
      switchMap(data &#x3D;&gt; {
        return this.manifestService.get(site, this.currentManifest.id)
      })
    )
    .subscribe( data &#x3D;&gt; {
      this.manifestService.updateCurrentInventoryManifest(data)
      this.refreshGrid()
    })

  }

  addToNewManifest() {

    if (!this.validateItemsSelectedForManifest()) { return }
    const items &#x3D; this.gridAPI.getSelectedRows();

    if (!items) {
      this.notifyEvent(&#x27;Please select some items to add to the new manifest&#x27;, &#x27;Alert&#x27;)
      return;
    }

    const manifest &#x3D; {} as InventoryManifest
    try {
      if (!manifest.inventoryAssignments) { manifest.inventoryAssignments &#x3D; [] as IInventoryAssignment[]}
    } catch (error) {
      console.log(&#x27;error&#x27;, error)
    }

    try {
      manifest.inventoryAssignments &#x3D; [ ...items, ... manifest.inventoryAssignments]
    } catch (error) {
      console.log(&#x27;error&#x27;, error)
    }
    const site &#x3D; this.siteService.getAssignedSite()

    if (site) {
        manifest.sourceSiteID   &#x3D; site.id;
        manifest.sourceSiteName &#x3D; site.name;
        manifest.sourceSiteURL  &#x3D; site.url;
        this.manifestService.add(site, manifest).subscribe(data &#x3D;&gt; {
          this.manifestService.updateCurrentInventoryManifest(data)
          this.openManifestEditor(data)
        })
    }

  }

  clearAssignedManifest() {
    this.manifestService.updateCurrentInventoryManifest(null)
  }

  getSelectedItems(): IInventoryAssignment[] {
    const items &#x3D; this.gridAPI.selectAll
    return null;
  }

  openManifestEditor(manifest: InventoryManifest) {
    let dialogRef: any;
    // const site &#x3D; this.siteService.getAssignedSite();
    // this.menuService.getProduct(site, id).subscribe( data&#x3D;&gt; {
    //   const productTypeID &#x3D; data.prodModifierType
    //   this.openProductEditor(id, productTypeID)
    if (manifest) {
      // dialogRef &#x3D; this.dialog.open(MainfestEditorComponent,
      //   { width:          &#x27;800px&#x27;,
      //     minWidth:       &#x27;399px&#x27;,
      //     height:         &#x27;800px&#x27;,
      //     minHeight:      &#x27;650px&#x27;,
      //     data : manifest
      // })
      // return dialogRef
      this.manifestService.openManifestForm(manifest.id)
    }


  }

  formatToolTip(params: any) {
    // USE THIS FOR TOOLTIP LINE BREAKS
    const adjustmentNote &#x3D; params.adjustmentNote;
    const adjustmentType &#x3D; params.adjustmentType;
    const lineBreak &#x3D; true;
    const toolTipArray &#x3D; [adjustmentNote, adjustmentType]
    return { toolTipArray, lineBreak }
  }

  // agGridService
  currencyCellRendererUSD(params: any) {
    if (isNaN(params) !&#x3D; true)  {  return 0.00 }
    var inrFormat &#x3D; new Intl.NumberFormat(&#x27;en-US&#x27;, {
      style: &#x27;currency&#x27;,
      currency: &#x27;USD&#x27;,
      minimumFractionDigits: 2
    });
    if (inrFormat.format(params.value) &#x3D;&#x3D; &#x27;$NaN&#x27;) { return &#x27;&#x27;}
    return inrFormat.format(params.value);
  }

  notifyEvent(message: string, action: string) {
    this._snackBar.open(message, action, {
      duration: 2000,
      verticalPosition: &#x27;top&#x27;
    });
  }
}


</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'InventoryStatusList-1.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
