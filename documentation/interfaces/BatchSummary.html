<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pointless documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">pointless documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">













<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  BatchSummary</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/_services/dsiEMV/dsiemvtransactions.service.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#BatchItemCount" 
>
                                            BatchItemCount
                                        </a>
                                </li>
                                <li>
                                        <a href="#BatchNo" 
>
                                            BatchNo
                                        </a>
                                </li>
                                <li>
                                        <a href="#MerchantID" 
>
                                            MerchantID
                                        </a>
                                </li>
                                <li>
                                        <a href="#NetBatchTotal" 
>
                                            NetBatchTotal
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="BatchItemCount"></a>
                                        <span class="name "><b>BatchItemCount</b>
                                            <a href="#BatchItemCount">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>BatchItemCount:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="BatchNo"></a>
                                        <span class="name "><b>BatchNo</b>
                                            <a href="#BatchNo">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>BatchNo:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="MerchantID"></a>
                                        <span class="name "><b>MerchantID</b>
                                            <a href="#MerchantID">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>MerchantID:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="NetBatchTotal"></a>
                                        <span class="name "><b>NetBatchTotal</b>
                                            <a href="#NetBatchTotal">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>NetBatchTotal:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, OnDestroy } from &#x27;@angular/core&#x27;;
import { ElectronService } from &#x27;ngx-electron&#x27;;
import { XMLParser, XMLBuilder, XMLValidator} from &#x27;fast-xml-parser&#x27;;
import { DSIEMVSettings, UISettingsService } from &#x27;../system/settings/uisettings.service&#x27;;
import { Subscription } from &#x27;rxjs&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;

export interface topLevel {
  TStream: TStream;
}
export interface TStream {
  Transaction: Transaction;
  Admin      : Transaction;
}

export interface Transaction {
  HostOrIP:                        string;
  IpPort:                          string;
  MerchantID:                      string;
  TerminalID:                      string;
  POSPackageID:                    string;
  OperatorID:                      string;
  UserTrace:                       string;
  CardType:                        string;
  TranCode:                        string;
  TranType:                        string;
  CollectData:                     string;
  SecureDevice:                    string;
  ComPort:                         string;
  PinPadIpAddress:                 string;
  PinPadIpPort:                    string;
  Account:                         Account;
  InvoiceNo:                       string;
  RefNo:                           string;
  ReturnClearExpDate:              string;
  Amount                          :Amount;
  FSABins:                         string;
  SequenceNo:                      string;
  OKAmount:                        string;
  ReturnClearCardBin:              string;
  LaneID:                          string;
  Duplicate:                       string;
  AVS:                             Avs;
  TranInfo:                        TranInfo;
  AuthCode:                        string;
  AcqRefData:                      string;
  PartialAuth:                     string;
  RecordNo:                        string;
  Frequency:                       string;
  RecurringData:                   string;
  DisplayTextHandle:               string;
  ForceOffline:                    string;
  MaxTransactions:                 string;
  OfflineTransactionPurchaseLimit: string;
  ProcessData:                     string;
  BatchNo:                         string;
  BatchItemCount:                  string;
  NetBatchTotal:                   string;
}

export interface Avs {
  Address: string;
  Zip:     string;
}

export interface Account {
  AcctNo: string;
}

export interface Amount {
  Authorize: string;
  Purchase: string;
  Gratuity: string;
  CashBack: number;
  Tax: number;
  SurchargeWithLookup: string;
  FSAPrescription: string;
  FSAVision: number;
  FSAClinical: number;
  FSADental: number;
  FSATotalAmount: number;
}

export interface TranInfo {
  CustomerCode: string;
}

// Generated by https://quicktype.io
export interface RStream {
  CmdResponse:  CmdResponse;
  TranResponse: TranResponse;
  PrintData:    PrintData;
  BatchSummary: BatchSummary
}

export interface BatchSummary {
  MerchantID: string;
  BatchNo: string;
  BatchItemCount: string;
  NetBatchTotal: string;
}

export interface BatchClose {
	MerchantID: string;
	BatchNo: string;
	BatchItemCount: string;
	NetBatchTotal: string;
}

export interface TranResponse {
  MerchantID:       string;
  TerminalID:       string;
  AcctNo:           string;
  CardType:         string;
  TranCode:         string;
  AuthCode:         string;
  AVSResult:        string;
  CVVResult:        string;
  CaptureStatus:    string;
  RefNo:            string;
  InvoiceNo:        string;
  OperatorID:       string;
  ExpDate:          string;
  ExpDateMonth:     string;
  ExpDateYear:      string;
  CardBin:          string;
  Amount:           Amount;
  CardholderName:   string;
  AcqRefData:       string;
  PostProcess:      string;
  ProcessData:      string;
  RecordNo:         string;
  RecurringData:    string;
  EntryMethod:      string;
  Date:             string;
  Time:             string;
  ApplicationLabel: string;
  AID:              string;
  TVR:              string;
  IAD:              string;
  TSI:              string;
  ARC:              string;
  CVM:              string;
}

export interface CmdResponse {
  ResponseOrigin: string;
  DSIXReturnCode: string;
  CmdStatus:      string;
  TextResponse:   string;
  SequenceNo:     string;
  UserTrace:      string;
}

export interface PrintData {
  Line1: string;
  LineN: string;
}

@Injectable({
  providedIn: &#x27;root&#x27;
})
export class DSIEMVTransactionsService implements OnDestroy {

  options &#x3D; {
      attributeNamePrefix : &quot;@_&quot;,
      //attrNodeName: false,
      //textNodeName : &quot;#text&quot;,
      ignoreAttributes: true,
      ignoreNameSpace: false,
  };

  jsonOptions &#x3D; {
      attributeNamePrefix : &quot;@_&quot;,
      //attrNodeName: false,
      //textNodeName : &quot;#text&quot;,
      ignoreAttributes : false,
      ignoreNameSpace: false,
      //format: true,
      //indentBy: &quot;  &quot;,
      //supressEmptyNode: false,
  };

  private dsiResponse          : any;
  private dsiEMVSettings       : DSIEMVSettings;
  private _dsiEMVSubscriptions : Subscription;

  initSubscriptions() {
    this._dsiEMVSubscriptions &#x3D; this.uiSettingService.dsiEMVSettings$.subscribe(data &#x3D;&gt; {
      this.dsiEMVSettings &#x3D; data
    })
  }

  constructor
      (private electronService: ElectronService,
        private matSnack        : MatSnackBar,
        private uiSettingService : UISettingsService,
      ) {
      this.initSubscriptions();
  }

  ngOnDestroy(): void {
    //Called once, before the instance is destroyed.
    //Add &#x27;implements OnDestroy&#x27; to the class.
    if (this._dsiEMVSubscriptions) {this._dsiEMVSubscriptions.unsubscribe()}
  }

  async mercuryPinPadReset(transaction: Transaction): Promise&lt;RStream&gt; {
    if (!transaction) { return }
    const tstream       &#x3D; {} as TStream;
    tstream.Transaction &#x3D; transaction
    const builder       &#x3D; new XMLBuilder(null)
    const xml           &#x3D; builder.build(tstream);
    console.log(xml)
    let response        : any;
    try {
      const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
      response &#x3D; await emvTransactions.PINPadReset(xml)
    } catch (error) {
      console.log(&#x27;error&#x27;, error)
    }
    if (response &#x3D;&#x3D;&#x3D; &#x27;reset failed&#x27;) {
      this.dsiResponse &#x3D; &#x27;Pin Pad Reset Failed&#x27;
      return;
    }
    if (response) {
      const parser  &#x3D; new XMLParser(null);
      this.dsiResponse &#x3D;  parser.parse(response)
      return this.dsiResponse;
    }
    const dsiResponse &#x3D; {} as RStream;
    return dsiResponse;
  }

  async pinPadReset(transaction: Transaction): Promise&lt;RStream&gt; {
    if (!transaction) { return }
    const tstream       &#x3D; {} as TStream;
    tstream.Transaction &#x3D; transaction
    const topLevel      &#x3D; {} as topLevel;
    topLevel.TStream    &#x3D; tstream;
    const builder       &#x3D; new XMLBuilder(this.options)
    const xml           &#x3D; builder.build(topLevel);
    let response        : any;
    try {
      const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
      response &#x3D; await emvTransactions.PINPadReset(xml)
    } catch (error) {
      console.log(&#x27;error&#x27;, error)
      return  error
    }
    if (response &#x3D;&#x3D;&#x3D; &#x27;reset failed&#x27;) {
      this.dsiResponse &#x3D; &#x27;Pin Pad Reset Failed&#x27;
      return  this.dsiResponse
    }
    if (response) {
      const parser  &#x3D; new XMLParser(null);
      this.dsiResponse &#x3D;  parser.parse(response)
      console.log(&#x27;pinPadReset response&#x27;, this.dsiResponse)
      return this.dsiResponse;
    }
    const dsiResponse &#x3D; {} as RStream;
    return dsiResponse;
  }

  async mercuryPinPadTest(): Promise&lt;any&gt; {
    let transaction &#x3D; {} as Transaction;
    transaction  &#x3D; this.getPadSettings(transaction)
    if (transaction) {
      const tstream &#x3D; {} as TStream;
      tstream.Transaction &#x3D; transaction
      const builder &#x3D; new XMLBuilder(this.options)
      const xml &#x3D; builder.build(tstream);
      const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
      const response &#x3D; await emvTransactions.MercuryPinPadTest(xml)
      return response
    }
  }

  async emvBatch(transaction: Transaction, batchSummary: BatchSummary): Promise&lt;any&gt; {

    if (!transaction || !batchSummary) {
      this.matSnack.open(&#x27;Issue retrieving transaction or batch summary.&#x27;, &#x27;Alert&#x27;, {duration: 1500});
      return
    }

    transaction.OperatorID     &#x3D; &#x27;Admin&#x27;;
    transaction.TranType       &#x3D; &#x27;Administrative&#x27;
    transaction.TranCode       &#x3D; &#x27;BatchClose&#x27;
    transaction.SequenceNo     &#x3D; &#x27;0010010010&#x27;
    transaction.BatchItemCount &#x3D; batchSummary.BatchItemCount;
    transaction.NetBatchTotal  &#x3D; batchSummary.NetBatchTotal;
    transaction.BatchNo        &#x3D; batchSummary.BatchNo;
    console.log(&#x27;emvBatch transaction 1&#x27;, transaction)

    if (!transaction) { return };
    console.log(&#x27;emvBatch transaction 2&#x27;, transaction)

    const tstream       &#x3D; {} as TStream;
    tstream.Admin       &#x3D; transaction
    const topLevel      &#x3D; {} as topLevel;
    topLevel.TStream    &#x3D; tstream;
    const builder       &#x3D; new XMLBuilder(this.options)
    const xml           &#x3D; builder.build(topLevel);
    let response        : any;
    console.log(&#x27;emvBatch xml&#x27;, xml)
    try {
      const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
      response              &#x3D; await emvTransactions.EMVTransaction(xml)
      console.log(&#x27;EMV Batch Response&#x27;, response)
    } catch (error) {
      console.log(&#x27;error&#x27;, error)
      return  error
    }
    if (response &#x3D;&#x3D;&#x3D; &#x27;reset failed&#x27;) {
      this.dsiResponse &#x3D; &#x27;Pin Pad Reset Failed&#x27;
      return  this.dsiResponse
    }
    if (response) {
      const parser  &#x3D; new XMLParser(null);
      let dsiResponse &#x3D;  parser.parse(response)
      return dsiResponse;
    }
  }

  async emvBatchInquire(transaction: Transaction): Promise&lt;RStream&gt; {
    if (!transaction) { return }

    transaction.TranType      &#x3D; &#x27;Administrative&#x27;
    transaction.TranCode      &#x3D; &#x27;BatchSummary&#x27;
    transaction.SequenceNo    &#x3D; &#x27;0010010010&#x27;

    if (!transaction) { return }

    const tstream       &#x3D; {} as TStream;
    tstream.Admin       &#x3D; transaction
    const topLevel      &#x3D; {} as topLevel;
    topLevel.TStream    &#x3D; tstream;
    const builder       &#x3D; new XMLBuilder(this.options)
    const xml           &#x3D; builder.build(topLevel);
    let response        : any;

    try {
      const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
      response              &#x3D; await emvTransactions.EMVTransaction(xml)
    } catch (error) {
      console.log(&#x27;error&#x27;, error)
      return  error
    }
    if (response &#x3D;&#x3D;&#x3D; &#x27;reset failed&#x27;) {
      this.dsiResponse &#x3D; &#x27;Pin Pad Reset Failed&#x27;
      return  this.dsiResponse
    }
    if (response) {
      const parser  &#x3D; new XMLParser(null);
      let dsiResponse &#x3D;  parser.parse(response)
      return dsiResponse;
    }
  }

  async getBatchInquireValues(transaction: Transaction): Promise&lt;any&gt; {
    const dsiResponse     &#x3D; await this.emvBatchInquire(transaction)
    try {
      if (!dsiResponse || dsiResponse.CmdResponse || !dsiResponse.CmdResponse.TextResponse) {
        this.matSnack.open(&#x60;Batch inquire problem: ${dsiResponse.CmdResponse.TextResponse}&#x60;, &#x27;Check Batching Info&#x27;)
        return null;
      }
      if (dsiResponse?.CmdResponse?.TextResponse &amp;&amp; dsiResponse?.CmdResponse?.TextResponse.toLowerCase() !&#x3D; &#x27;success&#x27;.toLowerCase()) {
        this.matSnack.open(&#x60;Batch inquire problem: ${dsiResponse.CmdResponse.TextResponse}&#x60;, &#x27;Check Batching Info&#x27;)
        return null;
      }
    } catch (error) {

    }
    return dsiResponse;
  }

  async emvTransaction(transaction: Transaction): Promise&lt;any&gt; {
    if (!transaction) { return }
    const tstream       &#x3D; {} as TStream;
    tstream.Transaction &#x3D; transaction
    const topLevel      &#x3D; {} as topLevel;
    topLevel.TStream    &#x3D; tstream;
    const builder       &#x3D; new XMLBuilder(this.options)
    const xml           &#x3D; builder.build(topLevel);
    let response        : any;

    try {
      if (transaction.SecureDevice.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;test&#x27;) {
        const cmdResponse &#x3D; {} as CmdResponse;
        cmdResponse.TextResponse &#x3D; &#x27;Approved&#x27;;
        const rStream &#x3D; {} as RStream;
        rStream.CmdResponse &#x3D; cmdResponse;
        const TranResponse  &#x3D; {}  as TranResponse;

        if (transaction.TranCode.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;EMVVoid&#x27;.toLowerCase()) {
          const tran &#x3D; this.getFakeVoidResponse(transaction)
          rStream.TranResponse &#x3D; tran;
        }

        if (transaction.TranCode.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;EMVSale&#x27;.toLowerCase()) {
          const tran &#x3D; this.getFakeSaleReponse(transaction)
          rStream.TranResponse &#x3D; tran;
        }

        if (transaction.TranCode.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;EMVReturn&#x27;.toLowerCase()) {
          const tran &#x3D; this.getFakeSaleReponse(transaction)
          rStream.TranResponse &#x3D; tran;
        }

        if (transaction.TranCode.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;EMVParamDownload&#x27;.toLowerCase()) {
          const tran &#x3D; this.getFakeSaleReponse(transaction)
          rStream.TranResponse &#x3D; tran;
        }

        return rStream
      }

    } catch (error) {
      console.log(&#x27;error&#x27;, error)
      return  error
    }

    try {
      const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
      response              &#x3D; await emvTransactions.EMVTransaction(xml)
      // console.log(&#x27;EMVTransaction response (dsiEMVTransaction.service)&#x27;, response);

    } catch (error) {
      console.log(&#x27;error&#x27;, error)
      return  error;
    }

    if (response &#x3D;&#x3D;&#x3D; &#x27;reset failed&#x27;) {
      this.dsiResponse &#x3D; &#x27;Pin Pad Reset Failed&#x27;
      return  this.dsiResponse
    }

    if (response) {
      const parser  &#x3D; new XMLParser(null);
      let dsiResponse &#x3D;  parser.parse(response)
      console.log(&#x27;Parser Response (dsiEMVTransaction.service)&#x27;, dsiResponse)
      console.log(&#x27;if dsiResponse includes RStream as an object, then instead return dsiResponse.RStream&#x27;)
      return dsiResponse;
    }

  }

  async testADODBConnection() {
    const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
    const response &#x3D; await emvTransactions.testADODBConnection()
    console.log(&#x27;response&#x27;, response)
    return response
  }

  async textActiveX(pathName: string) {
    const emvTransactions &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
    const response &#x3D; await emvTransactions.textActiveX(pathName)
    console.log(&#x27;response&#x27;, response)
    return response
  }

  runOpenWord() {
    const xml &#x3D; this.getResetXML()
    const PadReset &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
    const response &#x3D; PadReset.openWord();
    return response
  }

  runEMVPadReset() {
    const xml &#x3D; this.getResetXML()
    const winax &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
    const response &#x3D; winax.EMVPadReset(xml);
    console.log(&#x27;xml - response&#x27;, xml, response)
    return response
  }

  runCreateFile() {
    const xml &#x3D; this.getResetXML()
    const winax &#x3D; this.electronService.remote.require(&#x27;./datacap/transactions.js&#x27;);
    const response &#x3D; winax.createFile();
    return response
  }

  async getResetXML() {
    //  const settings &#x3D; await this.uiSettingService.getDSIEMVSettings();
    //  const item &#x3D; {} as TStream
    //  const transaction &#x3D; {} as Transaction;
  }

  private getPadSettings(transaction: Transaction)  {
      transaction.OperatorID    &#x3D; this.dsiEMVSettings.OperatorID
      transaction.UserTrace     &#x3D; this.dsiEMVSettings.UserTrace
      transaction.TranCode      &#x3D; this.dsiEMVSettings.TranCode
      transaction.SecureDevice  &#x3D; this.dsiEMVSettings.SecureDevice
      transaction.ComPort       &#x3D; this.dsiEMVSettings.ComPort
      transaction.PinPadIpPort  &#x3D; this.dsiEMVSettings.PinPadIpPort
      transaction.SequenceNo    &#x3D; &#x27;0010010010&#x27;
      transaction.HostOrIP      &#x3D; this.dsiEMVSettings.HostOrIP;
      return transaction
  }

  getFakeSaleReponse(transaction: Transaction): TranResponse {
    const response &#x3D; {} as TranResponse;
    response.Amount &#x3D; transaction.Amount;
    response.CaptureStatus &#x3D; &#x27;Approved&#x27;;
    response.EntryMethod &#x3D; &#x27;Test&#x27;;
    response.TranCode &#x3D; &#x27;EMVSale&#x27;;
    response.CardType &#x3D; &#x27;VISA&#x27;
    return response
  }

  getFakeVoidResponse(transaction: Transaction): TranResponse {
    const response &#x3D; {} as TranResponse;
    response.Amount &#x3D; transaction.Amount;
    response.CaptureStatus &#x3D; &#x27;Approved&#x27;;
    response.EntryMethod &#x3D; &#x27;Test&#x27;;
    response.TranCode &#x3D; &#x27;EMVSale&#x27;;
    response.CardType &#x3D; &#x27;VISA&#x27;
    return response
  }

}

    // &lt;HostOrIP&gt;127.0.0.1&lt;/HostOrIP&gt;
    //       &lt;IpPort&gt;9000&lt;/IpPort&gt;
    //       &lt;MerchantID&gt;700000012262&lt;/MerchantID&gt;
    //       &lt;TerminalID&gt;001&lt;/TerminalID&gt;
    //       &lt;POSPackageID&gt;EMVUSClient:1.26&lt;/POSPackageID&gt;
    //       &lt;OperatorID&gt;TEST&lt;/OperatorID&gt;
    //       &lt;UserTrace&gt;Dev1&lt;/UserTrace&gt;
    //       &lt;TranCode&gt;EMVPadReset&lt;/TranCode&gt;
    //       &lt;SecureDevice&gt;EMV_VX805_PAYMENTECH&lt;/SecureDevice&gt;
    //       &lt;ComPort&gt;1&lt;/ComPort&gt;
    //       &lt;PinPadIpAddress&gt;192.168.0.18&lt;/PinPadIpAddress&gt;
    //       &lt;PinPadIpPort&gt;12000&lt;/PinPadIpPort&gt;
    //       &lt;SequenceNo&gt;0010010010&lt;/SequenceNo&gt;
    //       &lt;DisplayTextHandle&gt;00101484&lt;/DisplayTextHandle&gt;
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'BatchSummary.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
