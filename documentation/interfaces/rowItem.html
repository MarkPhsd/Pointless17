<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pointless documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">pointless documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">













<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  rowItem</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/modules/admin/employeeClockAdmin/employee-clock-list/employee-clock-list.component.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#cellRenderer" 
>
                                            cellRenderer
                                        </a>
                                </li>
                                <li>
                                        <a href="#cellRendererParams" 
>
                                            cellRendererParams
                                        </a>
                                </li>
                                <li>
                                        <a href="#field" 
>
                                            field
                                        </a>
                                </li>
                                <li>
                                        <a href="#flex" 
>
                                            flex
                                        </a>
                                </li>
                                <li>
                                        <a href="#headerName" 
>
                                            headerName
                                        </a>
                                </li>
                                <li>
                                        <a href="#maxWidth" 
>
                                            maxWidth
                                        </a>
                                </li>
                                <li>
                                        <a href="#minWidth" 
>
                                            minWidth
                                        </a>
                                </li>
                                <li>
                                        <a href="#sortable" 
>
                                            sortable
                                        </a>
                                </li>
                                <li>
                                        <a href="#width" 
>
                                            width
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="cellRenderer"></a>
                                        <span class="name "><b>cellRenderer</b>
                                            <a href="#cellRenderer">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>cellRenderer:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="cellRendererParams"></a>
                                        <span class="name "><b>cellRendererParams</b>
                                            <a href="#cellRendererParams">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>cellRendererParams:         <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="field"></a>
                                        <span class="name "><b>field</b>
                                            <a href="#field">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>field:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="flex"></a>
                                        <span class="name "><b>flex</b>
                                            <a href="#flex">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>flex:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="headerName"></a>
                                        <span class="name "><b>headerName</b>
                                            <a href="#headerName">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>headerName:         <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="maxWidth"></a>
                                        <span class="name "><b>maxWidth</b>
                                            <a href="#maxWidth">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>maxWidth:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="minWidth"></a>
                                        <span class="name "><b>minWidth</b>
                                            <a href="#minWidth">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>minWidth:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="sortable"></a>
                                        <span class="name "><b>sortable</b>
                                            <a href="#sortable">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>sortable:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="width"></a>
                                        <span class="name "><b>width</b>
                                            <a href="#width">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>width:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component,   OnInit,
  ViewChild ,ElementRef, AfterViewInit, HostListener, OnDestroy } from &#x27;@angular/core&#x27;;
import { SitesService } from &#x27;src/app/_services/reporting/sites.service&#x27;;
import { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup } from &#x27;@angular/forms&#x27;;
import { Observable, Subject  } from &#x27;rxjs&#x27;;
import { AgGridFormatingService } from &#x27;src/app/_components/_aggrid/ag-grid-formating.service&#x27;;
import { IGetRowsParams,  GridApi } from &#x27;ag-grid-community&#x27;;
// import &quot;ag-grid-community/dist/styles/ag-grid.css&quot;;
// import &quot;ag-grid-community/dist/styles/ag-theme-alpine.css&quot;;
import { ButtonRendererComponent } from &#x27;src/app/_components/btn-renderer.component&#x27;;
import { MatBottomSheet } from &#x27;@angular/material/bottom-sheet&#x27;;
import { UserAuthorizationService } from &#x27;src/app/_services/system/user-authorization.service&#x27;;
import { ProductEditButtonService } from &#x27;src/app/_services/menu/product-edit-button.service&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { Router } from &#x27;@angular/router&#x27;;
import { EmployeeClockService,EmployeeClockResults,EmployeeClockSearchModel } from &#x27;src/app/_services/employeeClock/employee-clock.service&#x27;;
import {  EmployeeClock } from &#x27;src/app/_interfaces/people/employeeClock&#x27;;
import { Capacitor,  } from &#x27;@capacitor/core&#x27;;
import { AgGridService } from &#x27;src/app/_services/system/ag-grid-service&#x27;;

export interface rowItem {
  field: string,
  cellRenderer: string,
  cellRendererParams: any;
  minWidth: number;
  maxWidth: number;
  width   : number;
  flex: number;
  headerName: string;
  sortable: boolean;
}

@Component({
  selector: &#x27;app-employee-clock-list&#x27;,
  templateUrl: &#x27;./employee-clock-list.component.html&#x27;,
  styleUrls: [&#x27;./employee-clock-list.component.scss&#x27;]
})
export class EmployeeClockListComponent implements OnInit {

  @ViewChild(&#x27;input&#x27;, {static: true}) input: ElementRef;
  searchPhrase:         Subject&lt;any&gt; &#x3D; new Subject();
  get itemName() { return this.searchForm.get(&quot;itemName&quot;) as UntypedFormControl;}
  private readonly onDestroy &#x3D; new Subject&lt;void&gt;();
  dateRange        : UntypedFormGroup;


   //AgGrid
   params               : any;
   private gridApi      : GridApi;
   // private gridColumnApi: GridAlignColumnsDirective;
   gridOptions          : any
   columnDefs           &#x3D; [];
   defaultColDef        ;
   frameworkComponents  : any;
   rowSelection         : any;
   rowDataClicked1      &#x3D; {};
   rowDataClicked2      &#x3D; {};
   rowData:             any[];
   pageSize                &#x3D; 25
   currentRow              &#x3D; 1;
   currentPage             &#x3D; 1
   numberOfPages           &#x3D; 1
   startRow                &#x3D; 0;
   endRow                  &#x3D; 0;
   recordCount             &#x3D; 0;
   isfirstpage             : boolean;
   islastpage              : boolean;
   value             : any;
   // //This is for the filter Section//
   //search form filters
   searchForm:        UntypedFormGroup;
   inputForm        : UntypedFormGroup;
   jobTypeID     : number;
   selected        : any[];
   selectedRows    : any;
   agtheme         &#x3D; &#x27;ag-theme-material&#x27;;
   gridDimensions  &#x3D; &quot;width: 100%; height: 100%;&quot;
   urlPath:        string;
 
   id              : number;
   employeeClock   : EmployeeClock ;
   searchModel     : EmployeeClockSearchModel;
   isAuthorized    :   boolean;
   isStaff         :   boolean;
   smallDevice       &#x3D; false;
 
   buttonName      &#x3D; &#x27;Edit&#x27;;
   pageNumber: number;
   startDate: string;
   endDate: string;
   employeeID: number;

  get PaginationPageSize(): number {return this.pageSize;  }
  get gridAPI(): GridApi {  return this.gridApi;  }
  get platForm()         {  return Capacitor.getPlatform(); }

  constructor(  
    private _snackBar               : MatSnackBar,
    private employeeClockService    : EmployeeClockService,
    private fb                      : UntypedFormBuilder,
    private productEditButtonService: ProductEditButtonService,
    private siteService             : SitesService,
    private agGridFormatingService  : AgGridFormatingService,
    private userAuthorization       : UserAuthorizationService,
    private router                  : Router,
    private _bottomSheet            : MatBottomSheet,
    private agGridService:  AgGridService,
  )
  {
    // this.initSubscriptions();
    // this.initForm();
    this.initAgGrid(25);
  }

  ngOnInit(): void {
    const i &#x3D; 0;
    this.updateItemsPerPage();
  }

  initClasses()  {
    const platForm      &#x3D; this.platForm;
    this.gridDimensions &#x3D; &#x27;width: 100%; height: 100%;&#x27;
    this.agtheme        &#x3D; &#x27;ag-theme-material&#x27;;
    if (platForm &#x3D;&#x3D;&#x3D; &#x27;capacitor&#x27;) { this.gridDimensions &#x3D;  &#x27;width: 100%; height: 90%;&#x27; }
    if (platForm &#x3D;&#x3D;&#x3D; &#x27;electron&#x27;)  { this.gridDimensions &#x3D; &#x27;width: 100%; height: 90%;&#x27; }
  }

  initAgGrid(pageSize: number) {

    this.frameworkComponents &#x3D; {
      btnCellRenderer: ButtonRendererComponent
    };

    this.defaultColDef &#x3D; {
      flex: 2,
    };

    let item  &#x3D;   {
      field: &#x27;id&#x27;,
      cellRenderer: &quot;btnCellRenderer&quot;,
                    cellRendererParams: {
                        onClick: this.editItemWithId.bind(this),
                        label:  this.buttonName,
                        getLabelFunction: this.getLabel.bind(this),
                        btnClass: &#x27;btn btn-primary btn-sm&#x27;
                      },
                      minWidth: 125,
                      maxWidth: 125,
                      width   : 125,
                      flex: 2,
                      headerName: &#x27;&#x27;,
                      sortable: false,
      } as rowItem
      this.columnDefs.push(item);

      const site &#x3D; this.siteService.getAssignedSite();

      item &#x3D;   {headerName: &#x27;Employee&#x27;,     field: &#x27;employeeName&#x27;, sortable: true,
        width   : 150,
        minWidth: 150,
        maxWidth: 150,
        flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;Login&#x27;,     field: &#x27;logInTime&#x27;, sortable: true,
                  cellRenderer: this.agGridService.dateCellRendererUSD,
                  width   : 220,
                  minWidth: 220,
                  maxWidth: 220,
                  flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;Log Out&#x27;,     field: &#x27;logOutTime&#x27;, sortable: true,
                cellRenderer: this.agGridService.dateCellRendererUSD,
                width   : 220,
                minWidth: 220,
                maxWidth: 220,
                flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;Hours&#x27;,     field: &#x27;regHours&#x27;, sortable: true,
                width   : 125,
                minWidth: 125,
                maxWidth: 125,
                flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;OT Hours&#x27;,     field: &#x27;otHours&#x27;, sortable: true,
            width   : 125,
            minWidth: 125,
            maxWidth: 125,
            flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;Reg Pay&#x27;,     field: &#x27;regPay&#x27;, sortable: true,
            cellRenderer: this.agGridService.currencyCellRendererUSD,
            width   : 125,
            minWidth: 125,
            maxWidth: 125,
            flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;Break Min&#x27;,     field: &#x27;breakMinutes&#x27;, sortable: true,
            width   : 125,
            minWidth: 125,
            maxWidth: 125,
            flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;Break Min&#x27;,     field: &#x27;breakMinutes&#x27;, sortable: true,
            width   : 100,
            minWidth: 200,
            maxWidth: 200,
            flex    : 2,
      } as any
      this.columnDefs.push(item);
      
      item &#x3D;   {headerName: &#x27;OG CLock Out&#x27;,     field: &#x27;originalClockIn&#x27;, sortable: true,
                  cellRenderer: this.agGridService.dateCellRendererUSD,
                  width   : 220,
                  minWidth: 220,
                  maxWidth: 220,
                  flex    : 2,
      } as any
      this.columnDefs.push(item);

      item &#x3D;   {headerName: &#x27;OG CLock Out&#x27;,     field: &#x27;originalClockOut&#x27;, sortable: true,
                cellRenderer: this.agGridService.dateCellRendererUSD,
                width   : 220,
                minWidth: 220,
                maxWidth: 220,
                flex    : 2,
      } as any
      this.columnDefs.push(item);

      this.gridOptions &#x3D; this.agGridFormatingService.initGridOptions(pageSize, this.columnDefs);
  }

  agColumnApiRefresh() {
    if (this.columnDefs) {
      this.agGridFormatingService.initGridOptionsFormated(this.pageSize, this.columnDefs)
    }
  }
  
  //mutli select method for selection change.
  onSelectionChanged(event) {
    let selectedRows       &#x3D; this.gridApi.getSelectedRows();
    let selectedRowsString &#x3D; &#x27;&#x27;;
    let maxToShow          &#x3D; this.pageSize;
    let selected           &#x3D; []
    selectedRows.forEach(function (selectedRow, index) {
    if (index &gt;&#x3D; maxToShow) { return; }
    if (index &gt; 0) {  selectedRowsString +&#x3D; &#x27;, &#x27;;  }
      selected.push(selectedRow.id)
      selectedRowsString +&#x3D; selectedRow.name;
    });
    if (selectedRows.length &gt; maxToShow) {
    let othersCount &#x3D; selectedRows.length - maxToShow;
    selectedRowsString +&#x3D;
      &#x27; and &#x27; + othersCount + &#x27; other&#x27; + (othersCount !&#x3D;&#x3D; 1 ? &#x27;s&#x27; : &#x27;&#x27;);
    }
    if (selected) {
      this.selected &#x3D; selected
      this.id &#x3D; selectedRows[0].id;
      this.getItem(this.id)
    }
  }
  
  getLabel(rowData)
  {
    if(rowData &amp;&amp; rowData.hasIndicator)
      return this.buttonName
      else return this.buttonName
  }

  refreshSearchAny(data:any) { 
    this.startDate &#x3D; data?.startDate;
    this.endDate &#x3D; data?.endDate;
    const search &#x3D; {} as EmployeeClockSearchModel
    if (search) { 
      search.pageNumber &#x3D; this.pageNumber;
      if (data) { 
        search.employeeID &#x3D; data?.employeeID;
      }
      this.employeeID   &#x3D; data?.employeeID;

      if (data?.pageSize) { 
        if (+data?.pageSize !&#x3D; 0) { 
          this.pageSize &#x3D; data?.pageSize
        }
      }
      search.summary    &#x3D; data?.summary;
      search.pageSize   &#x3D; this.pageSize;
      this.currentPage  &#x3D; this.currentPage;
      search.startDate  &#x3D; this.startDate;
      search.endDate    &#x3D; this.endDate;
    }
    this.searchModel &#x3D; search
    console.log(this.searchModel)
    this.onGridReady(this.params)
  }

  getItem(id: number) {
    if (id) {
      const site &#x3D; this.siteService.getAssignedSite();
      this.employeeClockService.getEmployeeClock(site,id).subscribe(data &#x3D;&gt; {
          this.employeeClock &#x3D; data;
        }
      )
    }
  }

  //ag-grid standard method
  async onGridReady(params: any) {
    if (!params) { return }
    if (params)  {
      this.params  &#x3D; params
      this.gridApi &#x3D; params.api;
      params.api.sizeColumnsToFit();
      this.autoSizeAll(false)
    }

    this.onFirstDataRendered(this.params)

    // if (!params) { return }
    if (params &#x3D;&#x3D; undefined) { return }
    if (!params.startRow ||  !params.endRow) {
      params.startRow &#x3D; 1
      params.endRow &#x3D; this.pageSize;
    }

    if (this.searchModel.summary) { 
      params.startRow &#x3D; 1;
      params.endRow &#x3D; 500;
    };

    let datasource &#x3D;  {
      getRows: (params: IGetRowsParams) &#x3D;&gt; {
      const items$ &#x3D;  this.getRowData(params, params.startRow, params.endRow)
      if (!items$) { return }
      items$.subscribe(data &#x3D;&gt;
        {
            const resp         &#x3D;  data.paging
            if (resp) {
              this.isfirstpage   &#x3D; resp.isFirstPage
              this.islastpage    &#x3D; resp.isFirstPage
              this.currentPage   &#x3D; resp.currentPage
              this.numberOfPages &#x3D; resp.pageCount
              this.recordCount   &#x3D; resp.recordCount
              if (this.numberOfPages !&#x3D;0 &amp;&amp; this.numberOfPages) {
                this.value &#x3D; ((this.currentPage / this.numberOfPages ) * 100).toFixed(0)
              }
            }
            if (data.results) {
              let results  &#x3D;  this.refreshImages(data.results)
              params.successCallback(results)
              this.rowData &#x3D; results
            }
          }
        );
      }
    };

    if (!datasource)   { return }
    if (!this.gridApi) { return }
    this.gridApi.setDatasource(datasource);
    this.autoSizeAll(true)
  }

  //ag-grid standard method
  getRowData(params, startRow: number, endRow: number):  Observable&lt;EmployeeClockResults&gt;  {
    // this.currentPage          &#x3D; this.setCurrentPage(startRow, endRow)
    // this.searchModel.currentPage &#x3D; this.currentPage;
    // const searchModel         &#x3D; this.initSearchModel();
    // console.log(&#x27;search Model get row data&#x27;, searchModel)
    const site                &#x3D; this.siteService.getAssignedSite()
    console.log(this.searchModel)
    let search &#x3D; {} as EmployeeClockSearchModel
    search &#x3D; this.searchModel;
    if (!this.searchModel) { 
      search &#x3D; {} as EmployeeClockSearchModel
    }

    if (search) { 
      search.pageNumber &#x3D; this.pageNumber;
      search.pageSize &#x3D;   this.pageSize;
      this.currentPage &#x3D;  this.currentPage;
      search.startDate &#x3D;  this.startDate;
      search.endDate   &#x3D;  this.endDate;
      search.employeeID &#x3D; this.employeeID
    }

    console.log(search)
    if (search.startDate &amp;&amp; search.endDate) { 
      if (search.summary) { 
        return this.employeeClockService.getTimeClockSummary(site, search)
      }
      return this.employeeClockService.listEmployeesBetweenPeriod(site, search)
    }
  
  }

  onFirstDataRendered (params) {
    try {
      params.api.sizeColumnsToFit()
      window.setTimeout(() &#x3D;&gt; {
        const colIds &#x3D; params.columnApi.getAllColumns().map(c &#x3D;&gt; c.colId)
        params.columnApi.autoSizeColumns(colIds)
      }, 50)
      } catch (error) {
      console.log(error)
    }
  }

  refreshImages(data) {
    const urlPath &#x3D; this.urlPath
    if (urlPath) {
      data.forEach( item &#x3D;&gt;
        {
          if (item.urlImageMain) {
            const list &#x3D; item.urlImageMain.split(&#x27;,&#x27;)
            if (list[0]) {
              item.imageName &#x3D; &#x60;${urlPath}${list[0]}&#x60;
            }
          }
        }
      )
    }
    return data;
  }

  autoSizeAll(skipHeader) {
    try {
      var allColumnIds &#x3D; [];
      this.gridOptions.columnApi.getAllColumns().forEach(function (column) {
        allColumnIds.push(column.colId);
      });
      this.gridOptions.columnApi.autoSizeColumns(allColumnIds, skipHeader);
    } catch (error) {
      console.log(error)
    }
  }

  listAll(){
    const control &#x3D; this.itemName
    control.setValue(&#x27;&#x27;)
    // this.refreshSearch()
  }

  onExportToCsv() {
    this.gridApi.exportDataAsCsv();
  }

  @HostListener(&quot;window:resize&quot;, [])
  updateItemsPerPage() {
    this.smallDevice &#x3D; false
    if (window.innerWidth &lt; 768) {
      this.smallDevice &#x3D; true
      this.gridDimensions &#x3D; &#x27;width: 100%; height: 85%;&#x27;
    }
  }

  editItemWithId(item:any) {
    if(!item) {
      console.log(item)
      return
    }
    const id   &#x3D; item.rowData.id;
    const site &#x3D; this.siteService.getAssignedSite()
    const dialog &#x3D; this.productEditButtonService.openClockEditor(id)
    dialog.afterClosed().subscribe(data &#x3D;&gt; { 
      this.refreshSearchAny(this.searchModel)
    })
  }

  notifyEvent(message: string, action: string) {
    this._snackBar.open(message, action, {
    duration: 2000,
    verticalPosition: &#x27;top&#x27;
    });
  }

  filterBottomSheet() {
    // this._bottomSheet.open(EmployeeClockEditComponent);
  }
}


</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'rowItem.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
