<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pointless documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">pointless documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >DateHelperService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/_services/reporting/date-helper.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#localID" >localID</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#add" >add</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#daysInMonth" >daysInMonth</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#diff" >diff</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#format" >format</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fromNow" >fromNow</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getTickCount" >getTickCount</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#isValidDate" >isValidDate</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(localID: <a href="../s/s.html" target="_self">string</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:67</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>localID</td>
                                                  
                                                        <td>
                                                                        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="add"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>add</b></span>
                        <a href="#add"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>add(part: <a href="../undefineds/DatePart.html" target="_self">DatePart</a>, delta: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, input: <a href="../undefineds/DateInput.html" target="_self">DateInput</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="81"
                            class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:81</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>part</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DatePart" target="_self" >DatePart</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>delta</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>input</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DateInput" target="_self" >DateInput</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="daysInMonth"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>daysInMonth</b></span>
                        <a href="#daysInMonth"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>daysInMonth(year: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, month: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="123"
                            class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:123</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>year</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>month</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="diff"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>diff</b></span>
                        <a href="#diff"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>diff(part: <a href="../undefineds/DatePart.html" target="_self">DatePart</a>, leftDateInput: <a href="../undefineds/DateInput.html" target="_self">DateInput</a>, rightDateInput: <a href="../undefineds/DateInput.html" target="_self">DateInput</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="150"
                            class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:150</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>part</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DatePart" target="_self" >DatePart</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>leftDateInput</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DateInput" target="_self" >DateInput</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>rightDateInput</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DateInput" target="_self" >DateInput</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="format"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>format</b></span>
                        <a href="#format"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>format(value: <a href="../undefineds/DateInput.html" target="_self">DateInput</a>, mask: <a href="../s/s.html" target="_self">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="204"
                            class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:204</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DateInput" target="_self" >DateInput</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>mask</td>
                                    <td>
                                                <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fromNow"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>fromNow</b></span>
                        <a href="#fromNow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fromNow(value: <a href="../undefineds/DateInput.html" target="_self">DateInput</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="213"
                            class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:213</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DateInput" target="_self" >DateInput</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTickCount"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getTickCount</b></span>
                        <a href="#getTickCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getTickCount(value: <a href="../undefineds/DateInput.html" target="_self">DateInput</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="291"
                            class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:291</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#DateInput" target="_self" >DateInput</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>Date.now()</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isValidDate"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>isValidDate</b></span>
                        <a href="#isValidDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isValidDate(date)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="305"
                            class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:305</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>date</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="localID"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>localID</b></span>
                        <a href="#localID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/app/_services/reporting/date-helper.service.ts:67</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { formatDate as ngFormatDate } from &quot;@angular/common&quot;;
import { Inject } from &quot;@angular/core&quot;;
import { Injectable } from &quot;@angular/core&quot;;
import { LOCALE_ID } from &quot;@angular/core&quot;;

// ----------------------------------------------------------------------------------- //
// ----------------------------------------------------------------------------------- //

// CAUTION: Numbers are implicitly assumed to be milliseconds since epoch and strings are
// implicitly assumed to be valid for the Date() constructor.
export type DateInput &#x3D; Date | number | string;

// The single-character values here are meant to match the mask placeholders used in the
// native formatDate() function.
export type DatePart &#x3D;
	| &quot;y&quot; | &quot;year&quot;
	| &quot;M&quot; | &quot;month&quot;
	| &quot;d&quot; | &quot;day&quot;
	| &quot;h&quot; | &quot;hour&quot;
	| &quot;m&quot; | &quot;minute&quot;
	| &quot;s&quot; | &quot;second&quot;
	| &quot;S&quot; | &quot;millisecond&quot;
;

var MS_SECOND &#x3D; 1000;
var MS_MINUTE &#x3D; ( MS_SECOND * 60 );
var MS_HOUR &#x3D; ( MS_MINUTE * 60 );
var MS_DAY &#x3D; ( MS_HOUR * 24 );
var MS_MONTH &#x3D; ( MS_DAY * 30 ); // Rough estimate.
var MS_YEAR &#x3D; ( MS_DAY * 365 ); // Rough estimate.

// The Moment.js library documents the &quot;buckets&quot; into which the &quot;FROM NOW&quot; deltas fall.
// To mimic this logic using milliseconds since epoch, let&#x27;s calculate rough estimates of
// all the offsets. Then, we simply need to find the lowest matching bucket.
// --
// https://momentjs.com/docs/#/displaying/fromnow/
// 0 to 44 seconds --&gt; a few seconds ago
// 45 to 89 seconds --&gt; a minute ago
// 90 seconds to 44 minutes --&gt; 2 minutes ago ... 44 minutes ago
// 45 to 89 minutes --&gt; an hour ago
// 90 minutes to 21 hours --&gt; 2 hours ago ... 21 hours ago
// 22 to 35 hours --&gt; a day ago
// 36 hours to 25 days --&gt; 2 days ago ... 25 days ago
// 26 to 45 days --&gt; a month ago
// 45 to 319 days --&gt; 2 months ago ... 10 months ago
// 320 to 547 days (1.5 years) --&gt; a year ago
// 548 days+ --&gt; 2 years ago ... 20 years ago
// --
// Here are the bucket delimiters in milliseconds:
var FROM_NOW_JUST_NOW &#x3D; ( MS_SECOND * 44 );
var FROM_NOW_MINUTE &#x3D; ( MS_SECOND * 89 );
var FROM_NOW_MINUTES &#x3D; ( MS_MINUTE * 44 );
var FROM_NOW_HOUR &#x3D; ( MS_MINUTE * 89 );
var FROM_NOW_HOURS &#x3D; ( MS_HOUR * 21 );
var FROM_NOW_DAY &#x3D; ( MS_HOUR * 35 );
var FROM_NOW_DAYS &#x3D; ( MS_DAY * 25 );
var FROM_NOW_MONTH &#x3D; ( MS_DAY * 45 );
var FROM_NOW_MONTHS &#x3D; ( MS_DAY * 319 );
var FROM_NOW_YEAR &#x3D; ( MS_DAY * 547 );

@Injectable({
	providedIn: &quot;root&quot;
})
export class DateHelperService {

	private localID: string;

	// I initialize the date-helper with the given localization token.
	constructor( @Inject( LOCALE_ID ) localID: string ) {

		this.localID &#x3D; localID;

	}

	// ---
	// PUBLIC METHODS.
	// ---

	// I add the given date/time delta to the given date. A new date is returned.
	public add( part: DatePart, delta: number, input: DateInput ) : Date {

		var result &#x3D; new Date( input );

		switch ( part ) {
			case &quot;year&quot;:
			case &quot;y&quot;:
				result.setFullYear( result.getFullYear() + delta );
			break;
			case &quot;month&quot;:
			case &quot;M&quot;:
				result.setMonth( result.getMonth() + delta );
			break;
			case &quot;day&quot;:
			case &quot;d&quot;:
				result.setDate( result.getDate() + delta );
			break;
			case &quot;hour&quot;:
			case &quot;h&quot;:
				result.setHours( result.getHours() + delta );
			break;
			case &quot;minute&quot;:
			case &quot;m&quot;:
				result.setMinutes( result.getMinutes() + delta );
			break;
			case &quot;second&quot;:
			case &quot;s&quot;:
				result.setSeconds( result.getSeconds() + delta );
			break;
			case &quot;millisecond&quot;:
			case &quot;S&quot;:
				result.setMilliseconds( result.getMilliseconds() + delta );
			break;
		}

		return( result );

	}


	// I return the number of days in the given month. The year must be included since
	// the days in February change during a leap-year.
	public daysInMonth( year: number, month: number ) : number {

		var lastDayOfMonth &#x3D; new Date(
			year,
			// Go to the &quot;next&quot; month. This is always safe to do; if the next month is
			// beyond the boundary of the current year, it will automatically become the
			// appropriate month of the following year.
			( month + 1 ),
			// Go to the &quot;zero&quot; day of the &quot;next&quot; month. Since days range from 1-31, the
			// &quot;0&quot; day will automatically roll back to the last day of the previous
			// month. And, since we did ( month + 1 ) above, it will be ( month + 1 - 1 )
			// ... or simply, the last day of the &quot;month&quot; in question.
			0
		);

		return( lastDayOfMonth.getDate() );

	}


	// I determine the mount by which the first date is less than the second date using
	// the given date part. Returns an INTEGER that rounds down.
	// --
	// CAUTION: The Year / Month / Day diff&#x27;ing is a ROUGH ESTIMATE that should be good
	// enough for the vast majority of User Interface (UI) cases, especially since we&#x27;re
	// rounding the differences in general. If you need something more accurate, that
	// would be the perfect reason to pull-in an external date library.
	public diff( part: DatePart, leftDateInput: DateInput, rightDateInput: DateInput ) : number {

		var delta &#x3D; ( this.getTickCount( rightDateInput ) - this.getTickCount( leftDateInput ) );
		var multiplier &#x3D; 1;

		// We always want the delta to be a positive number so that the .floor()
		// operation in the following switch truncates the value in a consistent way. We
		// will compensate for the normalization by using a dynamic multiplier.
		if ( delta &lt; 0 ) {

			delta &#x3D; Math.abs( delta );
			multiplier &#x3D; -1;

		}

		switch ( part ) {
			case &quot;year&quot;:
			case &quot;y&quot;:
				// CAUTION: Rough estimate.
				return( Math.floor( delta / MS_YEAR ) * multiplier );
			break;
			case &quot;month&quot;:
			case &quot;M&quot;:
				// CAUTION: Rough estimate.
				return( Math.floor( delta / MS_MONTH ) * multiplier );
			break;
			case &quot;day&quot;:
			case &quot;d&quot;:
				// CAUTION: Rough estimate.
				return( Math.floor( delta / MS_DAY ) * multiplier );
			break;
			case &quot;hour&quot;:
			case &quot;h&quot;:
				return( Math.floor( delta / MS_HOUR ) * multiplier );
			break;
			case &quot;minute&quot;:
			case &quot;m&quot;:
				return( Math.floor( delta / MS_MINUTE ) * multiplier );
			break;
			case &quot;second&quot;:
			case &quot;s&quot;:
				return( Math.floor( delta / MS_SECOND ) * multiplier );
			break;
			case &quot;millisecond&quot;:
			case &quot;S&quot;:
				return( delta * multiplier );
			break;
		}

	}


	// I proxy the native formatDate() function with a partial application of the
	// LOCALE_ID that is being used in the application.
	public format( value: DateInput, mask: string ) : string {

		return( ngFormatDate( value, mask, this.localID ) );

	}


	// I return a human-friendly, relative date-string for the given input. This is
	// intended to mimic the .fromNow() method in Moment.js:
	public fromNow( value: DateInput ) : string {

		var nowTick &#x3D; this.getTickCount();
		var valueTick &#x3D; this.getTickCount( value );
		var delta &#x3D; ( nowTick - valueTick );
		var prefix &#x3D; &quot;&quot;;
		var infix &#x3D; &quot;&quot;;
		var suffix &#x3D; &quot; ago&quot;; // Assume past-dates by default.

		// If we&#x27;re dealing with a future date, we need to flip the delta so that our
		// buckets can be used in a consistent manner. We will compensate for this change
		// by using a different prefix/suffix.
		if ( delta &lt; 0 ) {

			delta &#x3D; Math.abs( delta );
			prefix &#x3D; &quot;in &quot;;
			suffix &#x3D; &quot;&quot;;

		}

		// NOTE: We are using Math.ceil() in the following calculations so that we never
		// round-down to a &quot;singular&quot; number that may clash with a plural identifier (ex,
		// &quot;days&quot;). All singular numbers are handled by explicit delta-buckets.
		if ( delta &lt;&#x3D; FROM_NOW_JUST_NOW ) {

			infix &#x3D; &quot;a few seconds&quot;;

		} else if ( delta &lt;&#x3D; FROM_NOW_MINUTE ) {

			infix &#x3D; &quot;a minute&quot;;

		} else if ( delta &lt;&#x3D; FROM_NOW_MINUTES ) {

			infix &#x3D; ( Math.ceil( delta / MS_MINUTE ) + &quot; minutes&quot; );

		} else if ( delta &lt;&#x3D; FROM_NOW_HOUR ) {

			infix &#x3D; &quot;an hour&quot;;

		} else if ( delta &lt;&#x3D; FROM_NOW_HOURS ) {

			infix &#x3D; ( Math.ceil( delta / MS_HOUR ) + &quot; hours&quot; );

		} else if ( delta &lt;&#x3D; FROM_NOW_DAY ) {

			infix &#x3D; &quot;a day&quot;;

		} else if ( delta &lt;&#x3D; FROM_NOW_DAYS ) {

			infix &#x3D; ( Math.ceil( delta / MS_DAY ) + &quot; days&quot; );

		} else if ( delta &lt;&#x3D; FROM_NOW_MONTH ) {

			infix &#x3D; &quot;a month&quot;;

		} else if ( delta &lt;&#x3D; FROM_NOW_MONTHS ) {

			infix &#x3D; ( Math.ceil( delta / MS_MONTH ) + &quot; months&quot; );

		} else if ( delta &lt;&#x3D; FROM_NOW_YEAR ) {

			infix &#x3D; &quot;a year&quot;;

		} else {

			infix &#x3D; ( Math.ceil( delta / MS_YEAR ) + &quot; years&quot; );

		}

		return( prefix + infix + suffix );

	}

	// ---
	// PRIVATE METHODS.
	// ---

	// I return the milliseconds since epoch for the given value.
	private getTickCount( value: DateInput &#x3D; Date.now() ) : number {

		// If the passed-in value is a number, we&#x27;re going to assume it&#x27;s already a
		// tick-count value (milliseconds since epoch).
		if ( typeof( value ) &#x3D;&#x3D;&#x3D; &quot;number&quot; ) {

			return( value );

		}

		return( new Date( value ).getTime() );

	}

  public isValidDate(date) {
    return date &amp;&amp; Object.prototype.toString.call(date) &#x3D;&#x3D;&#x3D; &quot;[object Date]&quot; &amp;&amp; !isNaN(date);
  }

}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'DateHelperService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
