<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pointless documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">pointless documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >PaymentsMethodsProcessService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/_services/transactions/payments-methods-process.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_dialog" >_dialog</a>
                            </li>
                            <li>
                                <a href="#_initTransactionComplete" >_initTransactionComplete</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dialog$" >dialog$</a>
                            </li>
                            <li>
                                <a href="#dialogRef" >dialogRef</a>
                            </li>
                            <li>
                                <a href="#dialogSubject" >dialogSubject</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#printingService" >printingService</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#applyAssociatedAuths" >applyAssociatedAuths</a>
                            </li>
                            <li>
                                <a href="#applyCardPointResponseToPayment" >applyCardPointResponseToPayment</a>
                            </li>
                            <li>
                                <a href="#applyEMVResponseToPayment" >applyEMVResponseToPayment</a>
                            </li>
                            <li>
                                <a href="#applyTripPOSResponseToPayment" >applyTripPOSResponseToPayment</a>
                            </li>
                            <li>
                                <a href="#enterPointCashValue" >enterPointCashValue</a>
                            </li>
                            <li>
                                <a href="#finalizeOrderProcesses" >finalizeOrderProcesses</a>
                            </li>
                            <li>
                                <a href="#getPaymentMethodByName" >getPaymentMethodByName</a>
                            </li>
                            <li>
                                <a href="#getPointsRequiredToPayBalance" >getPointsRequiredToPayBalance</a>
                            </li>
                            <li>
                                <a href="#getResults" >getResults</a>
                            </li>
                            <li>
                                <a href="#initSubscriptions" >initSubscriptions</a>
                            </li>
                            <li>
                                <a href="#isApproved" >isApproved</a>
                            </li>
                            <li>
                                <a href="#isCardPointApproved" >isCardPointApproved</a>
                            </li>
                            <li>
                                <a href="#isOrderBalanceZero" >isOrderBalanceZero</a>
                            </li>
                            <li>
                                <a href="#isTriPOSApproved" >isTriPOSApproved</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#notify" >notify</a>
                            </li>
                            <li>
                                <a href="#prepPrintUnPrintedItems" >prepPrintUnPrintedItems</a>
                            </li>
                            <li>
                                <a href="#processAuthTriPOSResponse" >processAuthTriPOSResponse</a>
                            </li>
                            <li>
                                <a href="#processCardPointResponse" >processCardPointResponse</a>
                            </li>
                            <li>
                                <a href="#processCashPayment" >processCashPayment</a>
                            </li>
                            <li>
                                <a href="#processCreditCardResponse" >processCreditCardResponse</a>
                            </li>
                            <li>
                                <a href="#processCreditPayment" >processCreditPayment</a>
                            </li>
                            <li>
                                <a href="#processDSIEMVAndroidCreditVoid" >processDSIEMVAndroidCreditVoid</a>
                            </li>
                            <li>
                                <a href="#processDSIEMVCreditVoid" >processDSIEMVCreditVoid</a>
                            </li>
                            <li>
                                <a href="#processPayment" >processPayment</a>
                            </li>
                            <li>
                                <a href="#processPayPalCreditPayment" >processPayPalCreditPayment</a>
                            </li>
                            <li>
                                <a href="#processRewardPoints" >processRewardPoints</a>
                            </li>
                            <li>
                                <a href="#processSendOrder" >processSendOrder</a>
                            </li>
                            <li>
                                <a href="#processSubDSIEMVCreditPayment" >processSubDSIEMVCreditPayment</a>
                            </li>
                            <li>
                                <a href="#processTriPOSResponse" >processTriPOSResponse</a>
                            </li>
                            <li>
                                <a href="#sendToPrep" >sendToPrep</a>
                            </li>
                            <li>
                                <a href="#validatePaymentAmount" >validatePaymentAmount</a>
                            </li>
                            <li>
                                <a href="#validateResponse" >validateResponse</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#DSIEmvSettings" >DSIEmvSettings</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(sitesService: <a href="../injectables/SitesService.html" target="_self">SitesService</a>, paymentService: <a href="../injectables/POSPaymentService.html" target="_self">POSPaymentService</a>, paymentMethodService: <a href="../injectables/PaymentMethodsService.html" target="_self">PaymentMethodsService</a>, orderService: <a href="../injectables/OrdersService.html" target="_self">OrdersService</a>, platFormService: <a href="../injectables/PlatformService.html" target="_self">PlatformService</a>, uiSettingService: <a href="../injectables/UISettingsService.html" target="_self">UISettingsService</a>, orderMethodsService: <a href="../injectables/OrderMethodsService.html" target="_self">OrderMethodsService</a>, posOrderItemService: <a href="../injectables/POSOrderItemService.html" target="_self">POSOrderItemService</a>, printingService: <a href="../injectables/PrintingService.html" target="_self">PrintingService</a>, prepPrintingService: <a href="../injectables/PrepPrintingServiceService.html" target="_self">PrepPrintingServiceService</a>, dialogOptions: <a href="../injectables/ProductEditButtonService.html" target="_self">ProductEditButtonService</a>, balanceSheetMethodsSevice: <a href="../injectables/BalanceSheetMethodsService.html" target="_self">BalanceSheetMethodsService</a>, matSnackBar: MatSnackBar)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:47</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>sitesService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SitesService.html" target="_self" >SitesService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>paymentService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/POSPaymentService.html" target="_self" >POSPaymentService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>paymentMethodService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PaymentMethodsService.html" target="_self" >PaymentMethodsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>orderService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/OrdersService.html" target="_self" >OrdersService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>platFormService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PlatformService.html" target="_self" >PlatformService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>uiSettingService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UISettingsService.html" target="_self" >UISettingsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>orderMethodsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/OrderMethodsService.html" target="_self" >OrderMethodsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>posOrderItemService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/POSOrderItemService.html" target="_self" >POSOrderItemService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>printingService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PrintingService.html" target="_self" >PrintingService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>prepPrintingService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PrepPrintingServiceService.html" target="_self" >PrepPrintingServiceService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dialogOptions</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ProductEditButtonService.html" target="_self" >ProductEditButtonService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>balanceSheetMethodsSevice</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/BalanceSheetMethodsService.html" target="_self" >BalanceSheetMethodsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>matSnackBar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applyAssociatedAuths"></a>
                    <span class="name">
                        <span ><b>applyAssociatedAuths</b></span>
                        <a href="#applyAssociatedAuths"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>applyAssociatedAuths(transType: <a href="../s/s.html" target="_self">string</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="445"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:445</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>transType</td>
                                    <td>
                                                <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applyCardPointResponseToPayment"></a>
                    <span class="name">
                        <span ><b>applyCardPointResponseToPayment</b></span>
                        <a href="#applyCardPointResponseToPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>applyCardPointResponseToPayment(response: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="601"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:601</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>response</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applyEMVResponseToPayment"></a>
                    <span class="name">
                        <span ><b>applyEMVResponseToPayment</b></span>
                        <a href="#applyEMVResponseToPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>applyEMVResponseToPayment(trans: <a href="../interfaces/TranResponse.html" target="_self">TranResponse</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="706"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:706</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trans</td>
                                    <td>
                                                <code><a href="../interfaces/TranResponse.html" target="_self" >TranResponse</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applyTripPOSResponseToPayment"></a>
                    <span class="name">
                        <span ><b>applyTripPOSResponseToPayment</b></span>
                        <a href="#applyTripPOSResponseToPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>applyTripPOSResponseToPayment(response: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, tipValue: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="643"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:643</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>response</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>tipValue</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="enterPointCashValue"></a>
                    <span class="name">
                        <span ><b>enterPointCashValue</b></span>
                        <a href="#enterPointCashValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>enterPointCashValue(event, paymentMethod: <a href="../interfaces/IPaymentMethod.html" target="_self">IPaymentMethod</a>, posPayment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="72"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:72</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentMethod</td>
                                    <td>
                                                <code><a href="../interfaces/IPaymentMethod.html" target="_self" >IPaymentMethod</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>posPayment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPaymentResponse.html" target="_self" >Observable&lt;IPaymentResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="finalizeOrderProcesses"></a>
                    <span class="name">
                        <span ><b>finalizeOrderProcesses</b></span>
                        <a href="#finalizeOrderProcesses"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>finalizeOrderProcesses(order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="135"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:135</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPaymentMethodByName"></a>
                    <span class="name">
                        <span ><b>getPaymentMethodByName</b></span>
                        <a href="#getPaymentMethodByName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPaymentMethodByName(site, cardType)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="431"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:431</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>site</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>cardType</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#s" target="_self" >Observable&lt;IPaymentMethod&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPointsRequiredToPayBalance"></a>
                    <span class="name">
                        <span ><b>getPointsRequiredToPayBalance</b></span>
                        <a href="#getPointsRequiredToPayBalance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPointsRequiredToPayBalance(balanceRemaining: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, loyaltyPointValue: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="777"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:777</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>balanceRemaining</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>loyaltyPointValue</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getResults"></a>
                    <span class="name">
                        <span ><b>getResults</b></span>
                        <a href="#getResults"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getResults(amount, paymentMethod: <a href="../interfaces/IPaymentMethod.html" target="_self">IPaymentMethod</a>, posPayment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="785"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:785</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentMethod</td>
                                    <td>
                                                <code><a href="../interfaces/IPaymentMethod.html" target="_self" >IPaymentMethod</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>posPayment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPaymentResponse.html" target="_self" >Observable&lt;IPaymentResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initSubscriptions"></a>
                    <span class="name">
                        <span ><b>initSubscriptions</b></span>
                        <a href="#initSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initSubscriptions()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="34"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:34</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isApproved"></a>
                    <span class="name">
                        <span ><b>isApproved</b></span>
                        <a href="#isApproved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isApproved(cmdStatus: <a href="../s/s.html" target="_self">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="350"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:350</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>cmdStatus</td>
                                    <td>
                                                <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isCardPointApproved"></a>
                    <span class="name">
                        <span ><b>isCardPointApproved</b></span>
                        <a href="#isCardPointApproved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isCardPointApproved(trans: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="359"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:359</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trans</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isOrderBalanceZero"></a>
                    <span class="name">
                        <span ><b>isOrderBalanceZero</b></span>
                        <a href="#isOrderBalanceZero"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isOrderBalanceZero(order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="848"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:848</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isTriPOSApproved"></a>
                    <span class="name">
                        <span ><b>isTriPOSApproved</b></span>
                        <a href="#isTriPOSApproved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isTriPOSApproved(trans: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="374"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:374</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trans</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="45"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:45</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="notify"></a>
                    <span class="name">
                        <span ><b>notify</b></span>
                        <a href="#notify"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>notify(message: <a href="../s/s.html" target="_self">string</a>, title: <a href="../s/s.html" target="_self">string</a>, duration: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="843"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:843</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>message</td>
                                    <td>
                                                <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>title</td>
                                    <td>
                                                <code><a href="../miscellaneous/variables.html#s" target="_self" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>duration</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="prepPrintUnPrintedItems"></a>
                    <span class="name">
                        <span ><b>prepPrintUnPrintedItems</b></span>
                        <a href="#prepPrintUnPrintedItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>prepPrintUnPrintedItems(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="172"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:172</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processAuthTriPOSResponse"></a>
                    <span class="name">
                        <span ><b>processAuthTriPOSResponse</b></span>
                        <a href="#processAuthTriPOSResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processAuthTriPOSResponse(trans: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, tipValue: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="511"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:511</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trans</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>tipValue</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#s" target="_self" >Observable&lt;any&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processCardPointResponse"></a>
                    <span class="name">
                        <span ><b>processCardPointResponse</b></span>
                        <a href="#processCardPointResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processCardPointResponse(trans: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="387"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:387</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trans</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processCashPayment"></a>
                    <span class="name">
                        <span ><b>processCashPayment</b></span>
                        <a href="#processCashPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processCashPayment(site: <a href="../interfaces/ISite.html" target="_self">ISite</a>, posPayment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, paymentMethod: <a href="../interfaces/IPaymentMethod.html" target="_self">IPaymentMethod</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="215"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:215</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>site</td>
                                    <td>
                                                <code><a href="../interfaces/ISite.html" target="_self" >ISite</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>posPayment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentMethod</td>
                                    <td>
                                                <code><a href="../interfaces/IPaymentMethod.html" target="_self" >IPaymentMethod</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPaymentResponse.html" target="_self" >Observable&lt;IPaymentResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processCreditCardResponse"></a>
                    <span class="name">
                        <span ><b>processCreditCardResponse</b></span>
                        <a href="#processCreditCardResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processCreditCardResponse(rStream: <a href="../interfaces/RStream.html" target="_self">RStream</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="550"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:550</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>rStream</td>
                                    <td>
                                                <code><a href="../interfaces/RStream.html" target="_self" >RStream</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processCreditPayment"></a>
                    <span class="name">
                        <span ><b>processCreditPayment</b></span>
                        <a href="#processCreditPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processCreditPayment(site: <a href="../interfaces/ISite.html" target="_self">ISite</a>, posPayment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, paymentMethod: <a href="../interfaces/IPaymentMethod.html" target="_self">IPaymentMethod</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="220"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:220</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>site</td>
                                    <td>
                                                <code><a href="../interfaces/ISite.html" target="_self" >ISite</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>posPayment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentMethod</td>
                                    <td>
                                                <code><a href="../interfaces/IPaymentMethod.html" target="_self" >IPaymentMethod</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPaymentResponse.html" target="_self" >Observable&lt;IPaymentResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processDSIEMVAndroidCreditVoid"></a>
                    <span class="name">
                        <span ><b>processDSIEMVAndroidCreditVoid</b></span>
                        <a href="#processDSIEMVAndroidCreditVoid"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processDSIEMVAndroidCreditVoid(order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, manualPrompt: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, settings: <a href="../interfaces/TransactionUISettings.html" target="_self">TransactionUISettings</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="302"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:302</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>manualPrompt</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>settings</td>
                                    <td>
                                                <code><a href="../interfaces/TransactionUISettings.html" target="_self" >TransactionUISettings</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processDSIEMVCreditVoid"></a>
                    <span class="name">
                        <span ><b>processDSIEMVCreditVoid</b></span>
                        <a href="#processDSIEMVCreditVoid"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processDSIEMVCreditVoid(payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="284"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:284</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processPayment"></a>
                    <span class="name">
                        <span ><b>processPayment</b></span>
                        <a href="#processPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processPayment(site: <a href="../interfaces/ISite.html" target="_self">ISite</a>, posPayment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, paymentMethod: <a href="../interfaces/IPaymentMethod.html" target="_self">IPaymentMethod</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="87"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:87</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>site</td>
                                    <td>
                                                <code><a href="../interfaces/ISite.html" target="_self" >ISite</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>posPayment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentMethod</td>
                                    <td>
                                                <code><a href="../interfaces/IPaymentMethod.html" target="_self" >IPaymentMethod</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPaymentResponse.html" target="_self" >Observable&lt;IPaymentResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processPayPalCreditPayment"></a>
                    <span class="name">
                        <span ><b>processPayPalCreditPayment</b></span>
                        <a href="#processPayPalCreditPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processPayPalCreditPayment(order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, manualPrompt: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, settings: <a href="../interfaces/TransactionUISettings.html" target="_self">TransactionUISettings</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="230"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:230</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>manualPrompt</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>settings</td>
                                    <td>
                                                <code><a href="../interfaces/TransactionUISettings.html" target="_self" >TransactionUISettings</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPOSPayment.html" target="_self" >Observable&lt;IPOSPayment&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processRewardPoints"></a>
                    <span class="name">
                        <span ><b>processRewardPoints</b></span>
                        <a href="#processRewardPoints"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processRewardPoints(site: <a href="../interfaces/ISite.html" target="_self">ISite</a>, posPayment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, paymentMethod: <a href="../interfaces/IPaymentMethod.html" target="_self">IPaymentMethod</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="764"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:764</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>site</td>
                                    <td>
                                                <code><a href="../interfaces/ISite.html" target="_self" >ISite</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>posPayment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentMethod</td>
                                    <td>
                                                <code><a href="../interfaces/IPaymentMethod.html" target="_self" >IPaymentMethod</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IPaymentResponse.html" target="_self" >Observable&lt;IPaymentResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processSendOrder"></a>
                    <span class="name">
                        <span ><b>processSendOrder</b></span>
                        <a href="#processSendOrder"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processSendOrder(order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="597"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:597</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#s" target="_self" >Observable&lt;any&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processSubDSIEMVCreditPayment"></a>
                    <span class="name">
                        <span ><b>processSubDSIEMVCreditPayment</b></span>
                        <a href="#processSubDSIEMVCreditPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processSubDSIEMVCreditPayment(order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, manualPrompt: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="256"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:256</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>manualPrompt</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processTriPOSResponse"></a>
                    <span class="name">
                        <span ><b>processTriPOSResponse</b></span>
                        <a href="#processTriPOSResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processTriPOSResponse(trans: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>, order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, tipValue: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="459"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:459</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trans</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>tipValue</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#s" target="_self" >Observable&lt;any&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendToPrep"></a>
                    <span class="name">
                        <span ><b>sendToPrep</b></span>
                        <a href="#sendToPrep"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sendToPrep(order: <a href="../interfaces/IPOSOrder.html" target="_self">IPOSOrder</a>, printUnPrintedOnly: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="156"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:156</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSOrder.html" target="_self" >IPOSOrder</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>printUnPrintedOnly</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#s" target="_self" >Observable&lt;any&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validatePaymentAmount"></a>
                    <span class="name">
                        <span ><b>validatePaymentAmount</b></span>
                        <a href="#validatePaymentAmount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>validatePaymentAmount(amount, paymentMethod: <a href="../interfaces/IPaymentMethod.html" target="_self">IPaymentMethod</a>, balanceRemaining: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, creditBalanceRemaining)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="827"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:827</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentMethod</td>
                                    <td>
                                                <code><a href="../interfaces/IPaymentMethod.html" target="_self" >IPaymentMethod</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>balanceRemaining</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>creditBalanceRemaining</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateResponse"></a>
                    <span class="name">
                        <span ><b>validateResponse</b></span>
                        <a href="#validateResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>validateResponse(rStream: <a href="../interfaces/RStream.html" target="_self">RStream</a>, payment: <a href="../interfaces/IPOSPayment.html" target="_self">IPOSPayment</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="318"
                            class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:318</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>rStream</td>
                                    <td>
                                                <code><a href="../interfaces/RStream.html" target="_self" >RStream</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>payment</td>
                                    <td>
                                                <code><a href="../interfaces/IPOSPayment.html" target="_self" >IPOSPayment</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_dialog"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_dialog</b></span>
                        <a href="#_dialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;any&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:29</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_initTransactionComplete"></a>
                    <span class="name">
                        <span ><b>_initTransactionComplete</b></span>
                        <a href="#_initTransactionComplete"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;any&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:32</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dialog$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>dialog$</b></span>
                        <a href="#dialog$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._dialog.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:30</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dialogRef"></a>
                    <span class="name">
                        <span ><b>dialogRef</b></span>
                        <a href="#dialogRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:27</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dialogSubject"></a>
                    <span class="name">
                        <span ><b>dialogSubject</b></span>
                        <a href="#dialogSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/variables.html#s" target="_self" >Subscription</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:26</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="printingService"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>printingService</b></span>
                        <a href="#printingService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/PrintingService.html" target="_self" >PrintingService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:58</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

            <section data-compodoc="block-accessors">
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="DSIEmvSettings"></a>
                        <span class="name"><b>DSIEmvSettings</b><a href="#DSIEmvSettings"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>DSIEmvSettings()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">src/app/_services/transactions/payments-methods-process.service.ts:65</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, OnDestroy } from &#x27;@angular/core&#x27;;
import { BehaviorSubject, catchError, forkJoin, Observable, of, Subscription, switchMap, } from &#x27;rxjs&#x27;;
import { IPaymentResponse, IPOSOrder,  IPOSPayment,   ISite, PosPayment }   from &#x27;src/app/_interfaces&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { SitesService } from &#x27;../reporting/sites.service&#x27;;
import { IPaymentMethod, PaymentMethodsService } from &#x27;./payment-methods.service&#x27;;
import { POSPaymentService } from &#x27;./pospayment.service&#x27;;
import { RStream, TranResponse } from &#x27;../dsiEMV/dsiemvtransactions.service&#x27;;
import { ProductEditButtonService } from &#x27;../menu/product-edit-button.service&#x27;;
import { OrderMethodsService } from &#x27;./order-methods.service&#x27;;
import { OrdersService } from &#x27;./orders.service&#x27;;
import { DSIEMVSettings, TransactionUISettings, UISettingsService } from &#x27;../system/settings/uisettings.service&#x27;;
import { PrintingService } from &#x27;../system/printing.service&#x27;;
import { BalanceSheetService } from &#x27;./balance-sheet.service&#x27;;
import { PrepPrintingServiceService } from &#x27;../system/prep-printing-service.service&#x27;;
import { BalanceSheetMethodsService } from &#x27;./balance-sheet-methods.service&#x27;;
import { PlatformService } from &#x27;../system/platform.service&#x27;;
import { POSOrderItemService } from &#x27;./posorder-item-service.service&#x27;;

@Injectable({
  providedIn: &#x27;root&#x27;
})

export class PaymentsMethodsProcessService implements OnDestroy {

  dialogSubject: Subscription;
  dialogRef: any;

  private _dialog     &#x3D; new BehaviorSubject&lt;any&gt;(null);
  public  dialog$      &#x3D; this._dialog.asObservable();

  _initTransactionComplete &#x3D; new BehaviorSubject&lt;any&gt;(null);

  initSubscriptions() {
    this.dialogSubject &#x3D; this.dialogRef.afterClosed().pipe(
      switchMap( result &#x3D;&gt; {
        if (result) {
          return this.processSendOrder(this.orderMethodsService.currentOrder)
        }
    })).subscribe(data &#x3D;&gt; {
      return of(data)
    })
  }

  ngOnDestroy(): void {
      if (this.dialogSubject){ this.dialogSubject.unsubscribe()}
   }

  constructor(
    private sitesService        : SitesService,
    private paymentService      : POSPaymentService,
    private paymentMethodService: PaymentMethodsService,
    private orderService        : OrdersService,
    private platFormService     : PlatformService,
    private uiSettingService    : UISettingsService,
    private orderMethodsService : OrderMethodsService,
    private posOrderItemService : POSOrderItemService,
    public  printingService     : PrintingService,
    private prepPrintingService: PrepPrintingServiceService,
    private dialogOptions       : ProductEditButtonService,
    private balanceSheetMethodsSevice: BalanceSheetMethodsService,
    private matSnackBar         : MatSnackBar) {
  }

  get DSIEmvSettings(): DSIEMVSettings {
    const item &#x3D; localStorage.getItem(&#x27;DSIEMVSettings&#x27;);
    if (!item) { return }
    const EMVSettings &#x3D; JSON.parse(item)
    return EMVSettings
  }

  enterPointCashValue(event, paymentMethod: IPaymentMethod, posPayment: IPOSPayment, order: IPOSOrder ): Observable&lt;IPaymentResponse&gt; {
    const site &#x3D; this.sitesService.getAssignedSite();
    //apply payment as cash value
    if (posPayment &amp;&amp; event &amp;&amp; paymentMethod &amp;&amp; order) {
      const amountPaid &#x3D; event;
      if (order.balanceRemaining &gt;&#x3D; amountPaid)  {
        return  this.processRewardPoints(site, posPayment, order, amountPaid, paymentMethod)
      }
      if (amountPaid &gt; order.balanceRemaining )  {
        this.notify(&#x27;Amount entered is greater than the total. Please try again.&#x27;, &#x27;Oops!&#x27;, 1500)
        return
      }
    }
  }

  processPayment(site: ISite, posPayment: IPOSPayment, order: IPOSOrder,
    amount: number, paymentMethod: IPaymentMethod): Observable&lt;IPaymentResponse&gt; {
    let response: IPaymentResponse;

    const balance$ &#x3D;  this.balanceSheetMethodsSevice.openDrawerFromBalanceSheet();


    if (posPayment.tipAmount) {
      amount &#x3D; (amount - posPayment.tipAmount)
    }

    const payment$ &#x3D; this.paymentService.makePayment(site, posPayment, order, amount, paymentMethod)
    return balance$.pipe(
        switchMap(data &#x3D;&gt; {
          return payment$
      })).pipe(switchMap(data &#x3D;&gt; {
        if (!data) {
          return this.sitesService.notifyObs(&#x27;Payment not succeeded.&#x27;, &#x27;close&#x27;, 5000, &#x27;red&#x27;)
        }
        order &#x3D; data?.order;
        response &#x3D; data;

        if (!data?.paymentSuccess ||
            (data?.responseMessage &amp;&amp; data?.responseMessage.toLowerCase() !&#x3D; &#x27;success&#x27;)) {
          return  this.sitesService.notifyObs(&#x60;Payment failed because: ${data?.responseMessage}&#x60;, &#x27;Close.&#x27;, 5000)
        }

        return this.finalizeOrderProcesses(order);

      })).pipe(switchMap( data &#x3D;&gt; {
        console.log(&#x27;udpdate order subscription&#x27;)
        this.orderMethodsService.updateOrderSubscription( order );

        if (response.orderCompleted) {
          this.printingService.printJoinedLabels() ;
          this.orderMethodsService.finalizeOrder(response, paymentMethod, order);
          this._initTransactionComplete.next(true)
        }

        return of(response);

      }), catchError(err &#x3D;&gt; {
        this.sitesService.notify(&#x27;Error in processing payment&#x27; + err, &#x27;Error&#x27;, 5000, &#x27;red&#x27;)
        return of(err)
    }));
  }

  
  finalizeOrderProcesses(order: IPOSOrder) {

    this.printingService.updatePrintingFinalizer(true)
    let printLabels$ : Observable&lt;any&gt;;
    let sendOrder$   : Observable&lt;any&gt;;
    if (!this.platFormService.isApp || !this.platFormService.isAppElectron) return of(null);

    return this.uiSettingService.transactionUISettings$.pipe(switchMap(data &#x3D;&gt; {
      printLabels$ &#x3D; of(null);
      sendOrder$  &#x3D; of(null);

      if (data.prepOrderOnClose) {
        this.sendToPrep(order, true)
      }
      if (data.printLabelsOnclose) {
        return this.printingService.printLabels(order, true)
      }
      return forkJoin([printLabels$, sendOrder$])
    }))
  }

  sendToPrep(order: IPOSOrder, printUnPrintedOnly: boolean): Observable&lt;any&gt; {
    if (order) {
      const site &#x3D; this.sitesService.getAssignedSite()
      const item$ &#x3D; this.prepPrintingService.printLocations(order,printUnPrintedOnly).pipe(
        switchMap( data &#x3D;&gt; {
          return  this.prepPrintUnPrintedItems(order.id)
        })
        ,catchError( data &#x3D;&gt; {
          this.sitesService.notify(&#x27;Error printing templates&#x27; + data.toString(), &#x27;close&#x27;, 5000, &#x27;red&#x27;)
          return of(data)
      }))
      return item$;
    }
    return of(null)
  }

  prepPrintUnPrintedItems(id: number) {
    if (id) {
      const site &#x3D; this.sitesService.getAssignedSite()
      return  this.posOrderItemService.setUnPrintedItemsAsPrinted(site, id).pipe(
        switchMap(data &#x3D;&gt; {
          return this.orderService.getOrder(site, id.toString(), false)
        })).pipe(
          switchMap( order &#x3D;&gt; {
          if (order) {
            console.log(&#x27; prepPrintUnPrintedItems orderMethodsService.updateOrderSubscription&#x27;)
            this.orderMethodsService.updateOrderSubscription(order)
            return of(order)
          }
      }));
    }
    return of(null)
  }
  // Error in processing cash paymentTypeError: Cannot read properties of undefined (reading &#x27;pipe&#x27;)


  // processResults(paymentResponse: IPaymentResponse) {
  //   let result &#x3D; 0
  //   if (paymentResponse?.paymentSuccess || paymentResponse?.orderCompleted) {
  //     if (paymentResponse?.orderCompleted) {
  //       this.action$ &#x3D;   this.orderMethodsService.finalizeOrderProcesses(paymentResponse, this.paymentMethod, paymentResponse.order).pipe(switchMap(data &#x3D;&gt; {
  //         result &#x3D;  this.orderMethodsService.finalizeOrder(paymentResponse, this.paymentMethod, paymentResponse.order)
  //         return of(data)
  //       }))
  //     }
  //   }

  //   this.resetPaymentMethod();

  //   if (paymentResponse?.paymentSuccess || paymentResponse?.responseMessage.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;success&#x27;) {
  //     this.orderService.updateOrderSubscription(paymentResponse.order)
  //     this.notify(&#x60;Payment succeeded: ${paymentResponse.responseMessage}&#x60;, &#x27;Success&#x27;, 1000)
  //   } else {
  //     this.notify(&#x60;Payment failed because: ${paymentResponse?.responseMessage}&#x60;, &#x27;Something unexpected happened.&#x27;,3000)
  //   }
  // }


  //openDrawerFromBalanceSheet
  processCashPayment(site: ISite, posPayment: IPOSPayment, order: IPOSOrder,
                     amount: number, paymentMethod: IPaymentMethod): Observable&lt;IPaymentResponse&gt; {
    return this.processPayment(site, posPayment, order, amount, paymentMethod)
  }

  processCreditPayment(site: ISite, posPayment: IPOSPayment,
                       order: IPOSOrder, amount: number,
                       paymentMethod: IPaymentMethod): Observable&lt;IPaymentResponse&gt; {
    if (this.DSIEmvSettings.enabled) {
      this.processSubDSIEMVCreditPayment(order, amount, true)
      return
    }
    return this.processPayment(site, posPayment, order, amount, paymentMethod)
  }

  processPayPalCreditPayment(order: IPOSOrder, amount: number, manualPrompt: boolean, settings: TransactionUISettings): Observable&lt;IPOSPayment&gt; {
      //once we get back the method &#x27;Card Type&#x27;
      //lookup the payment method.
      //we can&#x27;t get the type of payment before we get the PaymentID.
      //so we just have to request the ID, and then we can establish everything after that.
      const site &#x3D; this.sitesService.getAssignedSite();
      const  posPayment &#x3D; {} as IPOSPayment;
      posPayment.orderID &#x3D; order.id;
      posPayment.zrun &#x3D; order.zrun;
      posPayment.reportRunID &#x3D; order.reportRunID;
      posPayment.amountPaid &#x3D; amount;
      const payment$  &#x3D; this.paymentService.postPOSPayment(site, posPayment)
        payment$.subscribe(data &#x3D;&gt;
          {
            data.amountPaid &#x3D; amount;
            this.dialogRef &#x3D; this.dialogOptions.openPayPalTransaction({order: order,
                                                                      amount: amount,
                                                                      payment: data,
                                                                      settings: settings});
            this._dialog.next(this.dialogRef)
            return of(data)
          }
        )
      return null
  }

  processSubDSIEMVCreditPayment( order: IPOSOrder, amount: number, manualPrompt: boolean) {
    //once we get back the method &#x27;Card Type&#x27;
    //lookup the payment method.
    //we can&#x27;t get the type of payment before we get the PaymentID.
    //so we just have to request the ID, and then we can establish everything after that.
    const site &#x3D; this.sitesService.getAssignedSite();
    const  posPayment &#x3D; {} as IPOSPayment;
    posPayment.orderID &#x3D; order.id;
    posPayment.zrun &#x3D; order.zrun;
    posPayment.reportRunID &#x3D; order.reportRunID;
    const payment$  &#x3D; this.paymentService.postPOSPayment(site, posPayment);

    payment$.subscribe(data &#x3D;&gt;
      {
        data.amountPaid &#x3D; amount;
        let action &#x3D; 1;
        if (amount &lt; 0) {
          action &#x3D; 3;
        }
        this.dialogRef &#x3D; this.dialogOptions.openDSIEMVTransaction({data, amount, action: action,
                                                                   manualPrompt: manualPrompt});
        this._dialog.next(this.dialogRef)
        return of(data)
      }
    )
    return null;
  }

  processDSIEMVCreditVoid( payment: IPOSPayment) {
    //once we get back the method &#x27;Card Type&#x27;
    //lookup the payment method.
    //we can&#x27;t get the type of payment before we get the PaymentID.
    //so we just have to request the ID, and then we can establish everything after that.
    const site &#x3D; this.sitesService.getAssignedSite();
    const  posPayment &#x3D; {} as IPOSPayment;
    posPayment.id &#x3D; payment.id;
    this.dialogRef &#x3D; this.dialogOptions.openDSIEMVTransaction({payment: payment,
                                                              voidPayment: payment,
                                                              action: 2});
    this._dialog.next(this.dialogRef)
  }

  //once we get back the method &#x27;Card Type&#x27;
  //lookup the payment method.
  //we can&#x27;t get the type of payment before we get the PaymentID.
  //so we just have to request the ID, and then we can establish everything after that.
  processDSIEMVAndroidCreditVoid ( order: IPOSOrder, amount: number, manualPrompt: boolean, settings: TransactionUISettings) {
    const site &#x3D; this.sitesService.getAssignedSite();
    const  posPayment &#x3D; {} as IPOSPayment;
    posPayment.orderID &#x3D; order.id;
    posPayment.zrun &#x3D; order.zrun;
    posPayment.reportRunID &#x3D; order.reportRunID;
    posPayment.amountPaid &#x3D; amount;
    const payment$  &#x3D; this.paymentService.postPOSPayment(site, posPayment);

    payment$.subscribe(data &#x3D;&gt; {
      this.dialogRef &#x3D; this.dialogOptions.openDSIEMVAndroidTransaction({payment: data,
                                                                        type: 1});
      this._dialog.next(this.dialogRef)
    })
  }

  validateResponse(rStream: RStream, payment: IPOSPayment) {

    const cmdResponse       &#x3D; rStream?.CmdResponse;
    const trans             &#x3D; rStream?.TranResponse;

    if (!cmdResponse) {
      this.notify(&#x60;Error no response&#x60;, &#x27;Transaction not Complete&#x27;, 3000);
      return false
    }

    if (!trans) {
      this.notify(&#x60;Error no transaction response&#x60;, &#x27;Transaction not Complete&#x27;, 3000);
      return false
    }

    if (cmdResponse.CmdStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;TimeOut&#x27;.toLowerCase() ) {
      this.notify(&#x60;Error: ${cmdResponse}, ${trans}  &#x60;, &#x60;Transaction not Complete&#x60;, 3000);
      return false
    }

    if (cmdResponse.CmdStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;Error&#x27;.toLowerCase() ) {
      this.notify(&#x60;Error: ${&#x27;error&#x27;} , &#x60;, &#x60;Transaction not Complete&#x60;, 3000);
      return false
    }

    // console.log(&#x27;valid&#x27;, true)
    return true;

  }

  //&quot;AP*&quot;, &quot;Approved&quot;, &quot;Approved, Partial AP&quot;
  //then we can get the payment Method Type from Card Type.
  isApproved(cmdStatus: string) {
    if (cmdStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;AP*&#x27;.toLowerCase() ||
        cmdStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;Approved&#x27;.toLowerCase() ||
        cmdStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;Partial AP&#x27;.toLowerCase()) {
      return true;
    }
    return false;
  }

  isCardPointApproved(trans: any) {
    if (trans &amp;&amp; trans.captureStatus &amp;&amp; (trans?.captureStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;approved&#x27;.toLowerCase() ||
                  trans?.captureStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;approval&#x27;.toLowerCase() ||
                  trans?.captureStatus.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;A&#x27;.toLowerCase()
                  ) ) {
      return true;
    }
    if (trans &amp;&amp; trans.exceptionMessage) {
      this.notify(&#x60;Response not approved. Response given ${trans.exceptionMessage}&#x60;, &#x27;Failed&#x27;, 3000)
      return false;
    }
    this.notify(&#x60;Response not approved. Response given ${trans.captureStatus}&#x60;, &#x27;Failed&#x27;, 3000)
    return false;
  }

  isTriPOSApproved(trans: any) {

    if (trans &amp;&amp; trans.statusCode &amp;&amp; (trans?.statusCode.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;approved&#x27;.toLowerCase() ||
                  trans?.statusCode.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;approval&#x27;.toLowerCase() ||
                  trans?.statusCode.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;A&#x27;.toLowerCase()
                  ) ) {
      return true;
    }

    this.notify(&#x60;Response not approved. Response given ${trans?.statusCode}. Reason: ${trans?._processor?.expressResponseMessage} &#x60; , &#x27;Failed&#x27;, 3000)
    return false;
  }

  processCardPointResponse(trans: any, payment: IPOSPayment, order: IPOSOrder) {
    // console.log(&#x27;processCardPointResponse&#x27;, trans)
    const site &#x3D; this.sitesService.getAssignedSite();

    if (this.isCardPointApproved(trans)) {
      payment   &#x3D; this.applyCardPointResponseToPayment(trans, payment)
      payment.textResponse &#x3D;  trans?.resptext.toLowerCase();
      let paymentMethod    &#x3D; {} as IPaymentMethod;
      let paymentResponse: IPaymentResponse

      return this.paymentMethodService.getPaymentMethodByName(site, &#x27;credit&#x27;).pipe(
        switchMap( data &#x3D;&gt; {
          payment.paymentMethodID &#x3D; data.id;
          paymentMethod &#x3D; data;
          return this.processPayment(site, payment, order, payment.amountPaid, data)
        }
      )).pipe(switchMap(data &#x3D;&gt; {
        let response &#x3D; data;
        return of(payment.textResponse)
      }))

    //  return this.paymentMethodService.getPaymentMethodByName(site, &#x27;credit&#x27;).pipe(
    //     switchMap( data &#x3D;&gt; {
    //       payment.paymentMethodID &#x3D; data.id;
    //       paymentMethod &#x3D; data;
    //       return this.paymentService.makePayment(site, payment, order, payment.amountPaid, data)
    //     }
    //   )).pipe(switchMap(data &#x3D;&gt; {
    //       paymentResponse &#x3D; data;
    //       return this.orderMethodsService.finalizeOrderProcesses(null, null, order )
    //     }
    //   )).pipe(switchMap(data &#x3D;&gt; {
    //     this.orderService.updateOrderSubscription(paymentResponse.order);
    //     this.orderMethodsService.finalizeOrder(paymentResponse, paymentMethod, paymentResponse.order);
    //     this._initTransactionComplete.next(true)
    //     return of(payment.textResponse)
    //   }))


    } else {
      return of(null)
    }
  }

  getPaymentMethodByName(site, cardType): Observable&lt;IPaymentMethod&gt; {
    const item$  &#x3D; this.paymentMethodService.getCreditCardPaymentMethod(site, cardType)
    return  item$.pipe(
      switchMap(data &#x3D;&gt; {
      if (!data) {
        const type &#x3D; {} as IPaymentMethod;
        type.name &#x3D; cardType;
        type.isCreditCard &#x3D; true;
        return this.paymentMethodService.post(site, type);
      }
      return of(data)
    }))
  }

  applyAssociatedAuths(transType: string, payment: IPOSPayment, order: IPOSOrder) {
    const list &#x3D; [] as string[];
    if (transType &#x3D;&#x3D;&#x3D; &#x27;authorizationCompletionResponse&#x27;) {
      order.posPayments.forEach(data &#x3D;&gt; {
        // console.log(&#x27;applyAssociatedAuths refnumber&#x27;, data.tranType, data.refNumber, payment.respcode )
        if (data.tranType &#x3D;&#x3D;&#x3D; &#x27;incrementalAuthorizationResponse&#x27; ) {
          list.push(data.refNumber)
        }
      })
    }
    payment.resptext &#x3D; JSON.stringify(list)
    return payment
  }

  processTriPOSResponse(trans: any, payment: IPOSPayment, order: IPOSOrder, tipValue: number): Observable&lt;any&gt; {

    const site &#x3D; this.sitesService.getAssignedSite();
    if (!this.isTriPOSApproved(trans)) {
      return of(null)
    }

    payment   &#x3D; this.applyTripPOSResponseToPayment(trans, payment, tipValue);
    payment   &#x3D; this.applyAssociatedAuths(payment.tranType, payment, order);
    let paymentMethod    &#x3D; {} as IPaymentMethod;
    let cardType &#x3D; &#x27;credit&#x27;
    let paymentResponse: IPaymentResponse

    if (trans?.cardLogo) {   cardType &#x3D; trans?.cardLogo;  }
    return this.getPaymentMethodByName(site, cardType).pipe(
      switchMap( data &#x3D;&gt; {
        if (!data) {  return of(null)   }
        payment.paymentMethodID &#x3D; data.id;
        paymentMethod &#x3D; data;
        return this.processPayment(site, payment, order, payment.amountPaid, data)
      }
    )).pipe(
      switchMap(data &#x3D;&gt; {
        paymentResponse &#x3D; data;
        return of({order: paymentResponse.order, payment: paymentResponse.payment, trans: trans})
    }))

    // if (trans?.cardLogo) {   cardType &#x3D; trans?.cardLogo;  }
    // return this.getPaymentMethodByName(site, cardType).pipe(
    //   switchMap( data &#x3D;&gt; {
    //     if (!data) {  return of(null)   }
    //     payment.paymentMethodID &#x3D; data.id;
    //     paymentMethod &#x3D; data;
    //     return this.paymentService.makePayment(site, payment, order, payment.amountPaid, data)
    //   }
    // )).pipe(
    //   switchMap(data &#x3D;&gt; {
    //     paymentResponse &#x3D; data;
    //     return this.orderMethodsService.finalizeOrderProcesses(paymentResponse, paymentMethod, order )
    // })).pipe(
    //   switchMap(data &#x3D;&gt; {
    //     //data response is not required now.
    //     this.orderService.updateOrderSubscription(paymentResponse.order);
    //     this.orderMethodsService.finalizeOrder(paymentResponse, paymentMethod, order);
    //     if (paymentResponse.orderCompleted) {
    //       this._initTransactionComplete.next(true)
    //     }
    //     return of({order: paymentResponse.order, payment: paymentResponse.payment, trans: trans})
    // }))

  }

  processAuthTriPOSResponse(trans: any, payment: IPOSPayment, order: IPOSOrder, tipValue: number): Observable&lt;any&gt; {
    const site &#x3D; this.sitesService.getAssignedSite();

    if (!order) {
      this.sitesService.notify(&#x27;Error retrieiving order information. Please re-open order.&#x27;, &#x27;Alert&#x27;,1000)
      return of(order)
    }

    if (!this.isTriPOSApproved(trans)) {
      return of(order)
    }

    payment   &#x3D; this.applyTripPOSResponseToPayment(trans, payment, tipValue)
    let paymentMethod    &#x3D; {} as IPaymentMethod;
    let cardType &#x3D; &#x27;credit&#x27;
    if (trans?.cardLogo) {   cardType &#x3D; trans?.cardLogo;  }

    return this.paymentMethodService.getCreditCardPaymentMethod(site, cardType).pipe(
      switchMap( data &#x3D;&gt; {
        if (!data) {
          this.sitesService.notify(&#x60;Error getting payment method.&#x60;, &#x27;close&#x27;, 3000, &#x27;red&#x27;)
          return of(null)
        }
        payment.paymentMethodID &#x3D; data.id;
        paymentMethod &#x3D; data;
        return this.paymentService.savePOSPayment(site, payment);
      }
    )).pipe(
      switchMap(data &#x3D;&gt; {
        if (!data) {
          this.sitesService.notify(&#x60;Error saving payment.&#x60;, &#x27;close&#x27;, 3000, &#x27;red&#x27;)
          return of(null)
        }
        const id &#x3D;  data?.orderID.toString();
        return this.orderService.getOrder(site, id, false)
    }))

  }

  processCreditCardResponse(rStream: RStream,  payment: IPOSPayment, order: IPOSOrder) {

    const site &#x3D; this.sitesService.getAssignedSite();
    if (rStream) {
      const validate &#x3D; this.validateResponse( rStream, payment)
      if (!validate) {

        return of(null)
      }

      const cmdResponse  &#x3D; rStream.CmdResponse;
      const trans        &#x3D; rStream.TranResponse;
      const status       &#x3D; cmdResponse?.TextResponse;
      const cmdStatus    &#x3D; cmdResponse?.CmdStatus;

      payment   &#x3D; this.applyEMVResponseToPayment(trans, payment)

      if (this.isApproved(cmdStatus)) {

        let cardType       &#x3D; trans?.CardType;

        if (!cardType || cardType &#x3D;&#x3D;&#x3D; &#x27;0&#x27;) {  cardType &#x3D; &#x27;credit&#x27;};

        payment.textResponse &#x3D;  cmdResponse.CmdStatus.toLowerCase();
        let paymentMethod    &#x3D; {} as IPaymentMethod;
        paymentMethod.name &#x3D; cardType;
        let response: IPaymentResponse;
        const payment$ &#x3D;   this.paymentService.makePayment(site, payment, order, +trans.Amount.Authorize, paymentMethod)

        return  payment$.pipe(
          switchMap(data &#x3D;&gt; {            
            console.log(&#x27; prepPrintUnPrintedItems orderMethodsService.updateOrderSubscription&#x27;)
            this.orderMethodsService.updateOrderSubscription(data.order);
            this.printingService.previewReceipt();
            response &#x3D; data;
            return this.finalizeOrderProcesses(order )
          })).pipe(switchMap(data &#x3D;&gt; {
            this.orderMethodsService.finalizeOrder(response,  paymentMethod, data.order);
            return of(cmdResponse);
          })
        )
      }

    }
    return of(null)
  }

  processSendOrder(order: IPOSOrder) {
    return this.sendToPrep(order, true)
  }

  applyCardPointResponseToPayment(response: any, payment: IPOSPayment) {

    payment.resptext &#x3D; response?.resptext;
    payment.cvvresp &#x3D; response?.cvvresp;
    payment.respcode &#x3D; response?.respcode;
    payment.preAuth &#x3D; response?.authcode;
    payment.entryMethod &#x3D; response?.entrymode;
    payment.avsresp &#x3D; response?.avsresp;
    payment.entrymode &#x3D; response?.entrymode;
    payment.respproc &#x3D; response?.respproc;
    payment.bintype &#x3D; response?.bintype;
    payment.expiry &#x3D; response?.expiry;
    payment.retref &#x3D; response?.retref;
    payment.respstat &#x3D; response?.respstat;
    payment.account &#x3D; response?.account;
    payment.transactionData &#x3D; JSON.stringify(response);

    const tip &#x3D; +payment?.tipAmount
    const amountPaid &#x3D; +payment?.amountPaid
    const amount  &#x3D; +response?.amount

    if ( tip !&#x3D;0 ) {
      if (amount &#x3D;&#x3D; tip + amountPaid) {
        payment.amountPaid      &#x3D; +(+payment?.amountPaid).toFixed(2)
        payment.amountReceived  &#x3D; +(+payment?.amountPaid).toFixed(2)
        payment.tipAmount       &#x3D; +(tip ).toFixed(2)
      }
    } else {
      payment.amountPaid &#x3D; response?.amount;
      payment.amountReceived &#x3D; response?.amount;
    }

    payment.saleType      &#x3D; 1;
    payment.exp           &#x3D;  response?.expiry;
    payment.approvalCode  &#x3D;  response?.authcode;
    payment.captureStatus &#x3D;  response?.resptext;

    console.log(&#x27;response payment&#x27;, payment)
    return payment;
  }


  applyTripPOSResponseToPayment(response: any, payment: IPOSPayment, tipValue: number) {
    // console.log(&#x27;type&#x27;, response._type, )
    // console.table(response)

    if (response._type !&#x3D; &#x27;authorizationResponse&#x27;) {
      payment.amountPaid      &#x3D; response.approvedAmount;
      payment.amountReceived  &#x3D; response.approvedAmount;
    }

    if (response._type &#x3D;&#x3D;&#x3D; &#x27;authorizationCompletionResponse&#x27;) {
      payment.amountPaid      &#x3D; response?.subTotalAmount;
      payment.amountReceived  &#x3D; response?.subTotalAmount;
      if (+tipValue &#x3D;&#x3D; (response.subTotalAmount - +tipValue)) {
        payment.tipAmount       &#x3D; tipValue;
        payment.amountPaid      &#x3D; response.subTotalAmount - +tipValue;;
        payment.amountReceived  &#x3D; response.subTotalAmount - +tipValue;;
      }
    }

    if (response._type &#x3D;&#x3D;&#x3D; &#x27;saleResponse&#x27;) {
      payment.amountPaid      &#x3D; response?.approvedAmount;
      payment.amountReceived  &#x3D; response?.approvedAmount;

      if (+tipValue &#x3D;&#x3D; (response.approvedAmount - +tipValue)) {
        payment.tipAmount       &#x3D; tipValue;
        payment.amountPaid      &#x3D; response.approvedAmount - +tipValue;;
        payment.amountReceived  &#x3D; response.approvedAmount - +tipValue;;
      }
    }

    payment.account         &#x3D; response.accountNumber;
    payment.accountNum      &#x3D; response.accountNum;
    payment.approvalCode    &#x3D; response.approvalNumber;

    payment.captureStatus   &#x3D; response.statusCode;
    payment.entryMethod     &#x3D; response.entryMode;
    payment.entrymode       &#x3D; response.paymentType;
    payment.respproc        &#x3D; response.networkTransactionId;
    payment.respcode        &#x3D; response.transactionId
    payment.batchid         &#x3D; response.binValue;
    payment.tranType        &#x3D; response._type;

    if (response.expirationMonth &amp;&amp; response.expirationYear) {
      payment.expiry          &#x3D; &#x60;${response.expirationMonth}${response.expirationYear}&#x60;
    }
    if (response._type &#x3D;&#x3D;&#x3D; &#x27;refundResponse&#x27;) {
      payment.amountPaid      &#x3D; - response.totalAmount;
      payment.amountReceived  &#x3D; - response.totalAmount;
      payment.approvalCode    &#x3D; response.approvalNumber;
    }

    payment.refNumber       &#x3D; response.transactionId;
    if (!payment.approvalCode) {
      payment.approvalCode  &#x3D; response.transactionId;
    }
    payment.bintype         &#x3D; response.binValue;
    payment.transactionIDRef &#x3D; response.transactionIDRef
    payment.transactionData &#x3D; JSON.stringify(response);

    return payment;
  }


  applyEMVResponseToPayment(trans: TranResponse, payment: IPOSPayment) {
    //void &#x3D;6
    //refund &#x3D; 5;
    //preauth &#x3D; 3
    //preauth capture &#x3D; 7
    //force &#x3D; 4;
    // &lt;MerchantID&gt;93344&lt;/MerchantID&gt;
		// &lt;AcctNo&gt;************3907&lt;/AcctNo&gt;
		// &lt;CardType&gt;VISA&lt;/CardType&gt;
		// &lt;TranCode&gt;EMVSale&lt;/TranCode&gt;
		// &lt;AuthCode&gt;00421D&lt;/AuthCode&gt;
		// &lt;CaptureStatus&gt;Captured&lt;/CaptureStatus&gt;
		// &lt;RefNo&gt;212442535014&lt;/RefNo&gt;
		// &lt;InvoiceNo&gt;249571&lt;/InvoiceNo&gt;
		// &lt;OperatorID&gt;Clive Wolder&lt;/OperatorID&gt;
		// &lt;Amount&gt;
		// 	&lt;Purchase&gt;220.76&lt;/Purchase&gt;
		// 	&lt;Authorize&gt;220.76&lt;/Authorize&gt;
		// &lt;/Amount&gt;
		// &lt;AcqRefData&gt;|1623410529|95985&lt;/AcqRefData&gt;
		// &lt;AVSResult&gt;Z&lt;/AVSResult&gt;
		// &lt;CVVResult&gt;M&lt;/CVVResult&gt;
		// &lt;RecordNo&gt;1623410529&lt;/RecordNo&gt;
		// &lt;EntryMethod&gt;CHIP READ/MANUAL&lt;/EntryMethod&gt;
		// &lt;Date&gt;05/04/2022&lt;/Date&gt;
		// &lt;Time&gt;15:00:14&lt;/Time&gt;
    payment.accountNum    &#x3D; trans?.AcctNo;
    payment.exp           &#x3D; trans?.ExpDate;
    payment.cardHolder    &#x3D; trans?.CardholderName;
    payment.trancode      &#x3D; trans?.TranCode;
    payment.tranType      &#x3D; trans?.TranCode;
    payment.refNumber     &#x3D; trans?.RefNo;
    payment.dlNumber      &#x3D; trans?.AcqRefData;
    payment.processData   &#x3D; trans?.ProcessData;
    payment.ccNumber      &#x3D; trans?.RecordNo;

    payment.approvalCode  &#x3D; trans?.AuthCode;
    payment.captureStatus &#x3D; trans?.CaptureStatus;

    payment.amountPaid     &#x3D; +trans?.Amount?.Authorize;
    payment.amountReceived &#x3D; +trans?.Amount?.Authorize;
    payment.applicationLabel &#x3D; trans?.ApplicationLabel;
    payment.entryMethod   &#x3D; trans?.EntryMethod;

    payment.aid           &#x3D; trans?.AID;
    payment.tvr           &#x3D; trans?.TVR;
    payment.tsi           &#x3D; trans?.TSI;
    payment.arc           &#x3D; trans?.ARC;
    payment.emvcvm        &#x3D; trans?.CVM;
    payment.emvDate       &#x3D; trans?.Date;
    payment.emvTime       &#x3D; trans?.Time;

    payment.captureStatus &#x3D; trans?.CaptureStatus;

    payment.saleType      &#x3D; 1;
    return payment;
  }

  processRewardPoints(site: ISite, posPayment: IPOSPayment, order: IPOSOrder,
                      amount: number, paymentMethod: IPaymentMethod): Observable&lt;IPaymentResponse&gt; {
    if (order.clients_POSOrders) {
      if (order.clients_POSOrders.loyaltyPointValue &gt;&#x3D; amount) {
        const payment$ &#x3D; this.processPayment(site, posPayment, order, amount, paymentMethod)
        return payment$
      } else  {
        this.notify(&#x60;There are not enough points to pay this amount. The client has $${order.clients_POSOrders.loyaltyPointValue} in total.&#x60;, &#x27;Try Again&#x27;,3000)
        return null
      }
    }
  }

  getPointsRequiredToPayBalance(balanceRemaining: number, loyaltyPointValue: number) {
    if (!loyaltyPointValue || loyaltyPointValue &#x3D;&#x3D; 0) { return 0}
    let amountPaid &#x3D; 0
    if (loyaltyPointValue &gt;&#x3D; balanceRemaining) {  amountPaid &#x3D; balanceRemaining  }
    if (balanceRemaining &gt;&#x3D; loyaltyPointValue) { amountPaid &#x3D; loyaltyPointValue  }
    return amountPaid
  }

  getResults(amount, paymentMethod: IPaymentMethod,
             posPayment: IPOSPayment, order: IPOSOrder): Observable&lt;IPaymentResponse&gt; {
    //if credit card - prompt for credit card payment
    const site &#x3D; this.sitesService.getAssignedSite();
    // const labelPrint$ &#x3D; this.printingService.printLabels(order , true);
    let method$

    if (paymentMethod &amp;&amp; posPayment &amp;&amp; order)
      if (paymentMethod.wic) {
        // console.log(&#x27;method is wic&#x27;)
        return   this.processCashPayment(site, posPayment, order, amount, paymentMethod)
      }
      if (paymentMethod.ebt) {
        // console.log(&#x27;method is ebt&#x27;)
        return   this.processCashPayment(site, posPayment, order, amount, paymentMethod)
      }
      //cash
      if (paymentMethod.isCash) {
        // console.log(&#x27;method is isCash&#x27;)
        return   this.processCashPayment(site, posPayment, order, amount, paymentMethod)
      }

      if (paymentMethod.isCreditCard) {
        // console.log(&#x27;method is isCreditCard&#x27;)
        return  this.processCreditPayment(site, posPayment, order, amount, paymentMethod)
      }

      if (paymentMethod.name.toLowerCase()  &#x3D;&#x3D; &#x27;check&#x27;) {
        // console.log(&#x27;method is check&#x27;)
        return   this.processCashPayment(site, posPayment, order, amount, paymentMethod)
      }

      if (paymentMethod.name.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;rewards points&#x27; || paymentMethod.name.toLowerCase() &#x3D;&#x3D;&#x3D; &#x27;loyalty points&#x27;) {
        // console.log(&#x27;method is points&#x27;)
        return this.enterPointCashValue(amount, paymentMethod, posPayment, order)
      }

      // console.log(&#x27;paymentMethod&#x27;, paymentMethod, posPayment )
      return   this.processCashPayment(site, posPayment, order, amount, paymentMethod)

  }

  validatePaymentAmount(amount, paymentMethod: IPaymentMethod, balanceRemaining: number, creditBalanceRemaining): boolean {

    if (  +amount &gt; +balanceRemaining ) {
      // if (!paymentMethod.isCreditCard) {
      //   this.notify(&#x60;Enter amount smaller than ${balanceRemaining}.&#x60;, &#x27;Try Again&#x27;, 3000)
      //   return false
      // }
      // console.log(&#x27;creditBalanceRemaining&#x27;, creditBalanceRemaining)
      if (paymentMethod.isCreditCard) {
        this.notify(&#x60;Enter amount smaller than ${creditBalanceRemaining}.&#x60;, &#x27;Try Again&#x27;, 3000)
        return false
      }
    }
    return true
  }

  notify(message: string, title: string, duration: number) {
    if (duration &#x3D;&#x3D; 0 ) {duration &#x3D; 1000}
    this.matSnackBar.open(message, title, {duration: duration, verticalPosition: &#x27;top&#x27;})
  }

  isOrderBalanceZero(order: IPOSOrder) {
    if (order) {
      if ( order.balanceRemaining &gt; 0)  {
        return  false;
      }
      if ( order.balanceRemaining &#x3D;&#x3D; 0)  {
        return  true;
      }
    }
  }

}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'PaymentsMethodsProcessService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
